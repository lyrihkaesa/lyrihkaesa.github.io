<!doctype html><html lang=id dir=ltr class="docs-wrapper plugin-docs plugin-id-learning docs-version-current docs-doc-page docs-doc-id-guide-authorization/dua" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.7.0"><title data-rh=true>Apa itu Otorisasi? | Kaesa Lyrih</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content=https://kaesa.charapon.my.id/img/ksa-logo-gradient-blue.png><meta data-rh=true name=twitter:image content=https://kaesa.charapon.my.id/img/ksa-logo-gradient-blue.png><meta data-rh=true property=og:url content=https://kaesa.charapon.my.id/learning/guide-authorization/dua><meta data-rh=true property=og:locale content=id><meta data-rh=true name=docusaurus_locale content=id><meta data-rh=true name=docsearch:language content=id><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-learning-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-learning-current><meta data-rh=true property=og:title content="Apa itu Otorisasi? | Kaesa Lyrih"><meta data-rh=true name=description content="Otorisasi adalah mekanisme untuk mengendalikan siapa yang dapat melakukan apa di dalam sebuah aplikasi. Ini adalah cara untuk memastikan bahwa pengguna hanya memiliki akses ke data milik mereka sendiri, dan tidak diizinkan untuk melihat data yang bukan milik mereka. Terdapat serangkaian pola arsitektur otorisasi yang umum dan dapat diterapkan pada berbagai arsitektur aplikasi â€” dengan mengetahui pola-pola tersebut, penulisan kode otorisasi akan menjadi jauh lebih mudah. Panduan ini akan mengajarkan pola-pola tersebut."><meta data-rh=true property=og:description content="Otorisasi adalah mekanisme untuk mengendalikan siapa yang dapat melakukan apa di dalam sebuah aplikasi. Ini adalah cara untuk memastikan bahwa pengguna hanya memiliki akses ke data milik mereka sendiri, dan tidak diizinkan untuk melihat data yang bukan milik mereka. Terdapat serangkaian pola arsitektur otorisasi yang umum dan dapat diterapkan pada berbagai arsitektur aplikasi â€” dengan mengetahui pola-pola tersebut, penulisan kode otorisasi akan menjadi jauh lebih mudah. Panduan ini akan mengajarkan pola-pola tersebut."><link data-rh=true rel=icon href=/img/favicon.ico><link data-rh=true rel=canonical href=https://kaesa.charapon.my.id/learning/guide-authorization/dua><link data-rh=true rel=alternate href=https://kaesa.charapon.my.id/learning/guide-authorization/dua hreflang=id><link data-rh=true rel=alternate href=https://kaesa.charapon.my.id/learning/guide-authorization/dua hreflang=x-default><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="Kaesa Lyrih RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="Kaesa Lyrih Atom Feed"><link rel=stylesheet href=/assets/css/styles.3ffff460.css><script src=/assets/js/runtime~main.e07b4d83.js defer></script><script src=/assets/js/main.2998cd5b.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Lewati ke konten utama"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Lewati ke konten utama</a></div><nav aria-label=Utama class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Alihkan bilah sisi" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/ksa-logo-gradient-blue.png alt="Kaesa lyrih" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/img/ksa-logo-gradient-blue.png alt="Kaesa lyrih" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Kaesa</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/learning>Learning</a><a class="navbar__item navbar__link" href=/laravel>Laravel</a><a class="navbar__item navbar__link" href=/flutter>Flutter</a><a class="navbar__item navbar__link" href=/toram>Toram Online</a></div><div class="navbar__items navbar__items--right"><a href=https://discord.gg/z5GUceqyhB target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-discord-link" aria-label=Discord></a><a href=https://github.com/lyrihkaesa target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="Ubah antara modus gelap dan modus terang (saat ini modus terang)" aria-label="Ubah antara modus gelap dan modus terang (saat ini modus terang)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1><div class="navbar__search searchBarContainer_NW3z" dir=ltr><input placeholder=Search aria-label=Search class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Gulir kembali ke atas" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Bilah sisi dokumentasi" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/learning>ğŸ“” Catatan Belajar Kaesa</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/learning/category/windows>Windows</a><button aria-label="Perluas kategori bilah sisi 'Windows'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/learning/category/linux>Linux</a><button aria-label="Perluas kategori bilah sisi 'Linux'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/learning/category/figma-uiux>Figma UI/UX</a><button aria-label="Perluas kategori bilah sisi 'Figma UI/UX'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/learning/category/nextjs>NextJS</a><button aria-label="Perluas kategori bilah sisi 'NextJS'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/learning/category/docker>Docker</a><button aria-label="Perluas kategori bilah sisi 'Docker'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/learning/category/git>Git</a><button aria-label="Perluas kategori bilah sisi 'Git'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/learning/category/uml>UML</a><button aria-label="Perluas kategori bilah sisi 'UML'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/learning/category/dbms>DBMS</a><button aria-label="Perluas kategori bilah sisi 'DBMS'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/learning/category/networking>Networking</a><button aria-label="Perluas kategori bilah sisi 'Networking'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/learning/category/uat>UAT</a><button aria-label="Perluas kategori bilah sisi 'UAT'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/learning/category/vscode>VSCode</a><button aria-label="Perluas kategori bilah sisi 'VSCode'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/learning/category/konsep-mvc>Konsep MVC</a><button aria-label="Perluas kategori bilah sisi 'Konsep MVC'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/learning/category/vscode-1>VSCode</a><button aria-label="Ciutkan kategori bilah sisi 'VSCode'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/learning/guide-authorization/awalan>Awalan</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/learning/guide-authorization/intro>Pengantar Authorization Academy</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/learning/guide-authorization/dua>Apa itu Otorisasi?</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/learning/guide-authorization/rbac>Role-Based Access Control (RBAC)</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/learning/guide-authorization/rabac>Kontrol Akses Berdasarkan Hubungan (ReBAC)</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/learning/guide-authorization/authorization-enforcement>Penegakan Otorisasi</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/learning/guide-authorization/auth-microservices>Otorisasi dalam Microservices</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/learning/category/project-manager-pemula>Project Manager Pemula</a><button aria-label="Perluas kategori bilah sisi 'Project Manager Pemula'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/learning/category/magang-socha-informatika>Magang Socha Informatika</a><button aria-label="Perluas kategori bilah sisi 'Magang Socha Informatika'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/learning/category/toefl>TOEFL</a><button aria-label="Perluas kategori bilah sisi 'TOEFL'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/learning/lainnya/ward-end-peppard>lainnya</a></div></ul></nav><button type=button title="Ciutkan bilah sisi" aria-label="Ciutkan bilah sisi" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Runut navigasi"><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Halaman utama" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/learning/category/vscode-1><span itemprop=name>VSCode</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Apa itu Otorisasi?</span><meta itemprop=position content=2></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">Pada halaman ini</button></div><div class="theme-doc-markdown markdown"><header><h1>Apa itu Otorisasi?</h1></header>
<p>Otorisasi adalah mekanisme untuk mengendalikan siapa yang dapat melakukan apa di dalam sebuah aplikasi. Ini adalah cara untuk memastikan bahwa pengguna hanya memiliki akses ke data milik mereka sendiri, dan tidak diizinkan untuk melihat data yang bukan milik mereka. Terdapat serangkaian pola arsitektur otorisasi yang umum dan dapat diterapkan pada berbagai arsitektur aplikasi â€” dengan mengetahui pola-pola tersebut, penulisan kode otorisasi akan menjadi jauh lebih mudah. Panduan ini akan mengajarkan pola-pola tersebut.</p>
<p>Otorisasi merupakan elemen krusial dalam setiap aplikasi, namun hampir tidak terlihat oleh pengguna. Selain itu, otorisasi biasanya tidak terkait langsung dengan fitur inti atau logika bisnis yang sedang Anda kerjakan.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=1-autentikasi-vs-otorisasi>1. Autentikasi vs. Otorisasi<a href=#1-autentikasi-vs-otorisasi class=hash-link aria-label="Taut langsung ke 1. Autentikasi vs. Otorisasi" title="Taut langsung ke 1. Autentikasi vs. Otorisasi">â€‹</a></h2>
<p>Banyak orang sering menggunakan istilah â€œauthâ€ untuk merujuk pada autentikasi dan otorisasi, yang merupakan mekanisme yang saling terkait dan memiliki beberapa tumpang tindih dalam keamanan aplikasi. Namun, keduanya tidaklah sama.</p>
<ul>
<li>
<p><strong>Autentikasi</strong> adalah mekanisme untuk memverifikasi siapa pengguna itu. Ini merupakan pintu depan ke aplikasi. Sebagai contoh, kombinasi username dan password membentuk identitas (username) serta metode verifikasi (apakah Anda mengetahui password tersebut). Bentuk-bentuk autentikasi lainnya termasuk OAuth dan OpenID Connect (OIDC), yang sering digunakan untuk menambahkan fitur seperti â€œLogin dengan Googleâ€ atau â€œLogin dengan Facebookâ€; serta SAML, yang merupakan standar yang digunakan perusahaan untuk memberikan karyawan satu login tunggal di berbagai aplikasi.</p>
</li>
<li>
<p><strong>Otorisasi</strong> adalah mekanisme untuk mengendalikan apa yang dapat dilakukan oleh pengguna. Jika autentikasi adalah pintu depan, maka otorisasi mengatur pintu-pintu mana yang dapat Anda buka setelah berada di dalam.</p>
</li>
</ul>
<p>Otorisasi sering kali dibangun di atas autentikasi, dan keduanya memiliki tumpang tindih terutama ketika informasi mengenai identitas pengguna digunakan sebagai input untuk menentukan apa yang dapat mereka lakukan. Misalnya, setelah seorang pengguna terautentikasi, kita bisa menggunakan username-nya untuk mencari tahu hak aksesnya; atau kita bisa menyimpulkan hak aksesnya berdasarkan atribut lain yang bisa kita periksa.</p>
<p>Kursus ini berfokus pada otorisasi, dan hanya akan menyentuh autentikasi saat relevan. Kami berasumsi bahwa Anda sudah memiliki sistem autentikasi, atau Anda dapat membuatnya dengan mengikuti panduan yang sudah tersedia di tempat lain.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2-bentuk-otorisasi-dalam-aplikasi>2. Bentuk Otorisasi dalam Aplikasi<a href=#2-bentuk-otorisasi-dalam-aplikasi class=hash-link aria-label="Taut langsung ke 2. Bentuk Otorisasi dalam Aplikasi" title="Taut langsung ke 2. Bentuk Otorisasi dalam Aplikasi">â€‹</a></h2>
<p>Kami ingin menunjukkan kepada Anda contoh penerapan otorisasi dalam praktik, bukan hanya teori. Untuk itu, kami telah membuat sebuah aplikasi contoh di mana setiap konsep dapat didemonstrasikan.</p>
<p>Aplikasi kami bernama GitClub, sebuah situs web untuk hosting kode sumber, kolaborasi, dan version control. Aplikasi ini sangat mirip dengan penyedia layanan git nyata seperti GitHub dan GitLab. GitClub memberikan contoh murni tentang apa yang mendasari kebutuhan otorisasi â€” yaitu mengamankan akses ke sumber daya. Salah satu sumber daya di GitClub adalah repository, dan repository tersebut memiliki akses terbatas. Pengguna mungkin dapat membaca atau mengubah repository, atau mungkin tidak. Inilah sebabnya kita memerlukan otorisasi!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=arsitektur-website>Arsitektur Website<a href=#arsitektur-website class=hash-link aria-label="Taut langsung ke Arsitektur Website" title="Taut langsung ke Arsitektur Website">â€‹</a></h3>
<p>Kita akan mulai dengan sebuah arsitektur yang masuk akal untuk layanan kita, berdasarkan dokumentasi yang luar biasa dari GitLab mengenai arsitektur produksi mereka. Jika hal ini terlihat kompleks â€“ jangan khawatir! Saat kita membahas di mana otorisasi ditempatkan dalam arsitektur ini, secara bertahap kita akan menguraikan lapisan-lapisan kompleksitasnya.</p>
<p>Gambar di bawah ini merupakan diagram arsitektur GitClub:</p>
<p><img decoding=async loading=lazy src=https://cdn.prod.website-files.com/5f1483105c9a72fd0a3b662a/6051515dfca17b4dac8d2162_eFvLwOry4DOBdqhLIyjwrPA1B3B9PMtu3m6b0iiBldsLUU-fsr8_xNcHOVqFQDkbvor_gQxlDPZ1x-F2L_-ypm2jFIfZuYMeK3PeTF9rJS96hU_FHZlQSC2TfJmnTGaJ5ON8i99b.png alt="GitClub Architecture" class=img_ev3q></p>
<p>Diagram di atas memuat bagian-bagian utama dari arsitektur kami.</p>
<p><strong>gitclub.dev</strong> menangani tiga jenis trafik yang berbeda:</p>
<ol>
<li><strong>Mengunjungi website:</strong> Ini akan mengembalikan HTML untuk browser Anda, seperti konten halaman depan gitclub.com.</li>
<li><strong>Permintaan API:</strong> Ini menangani permintaan data dari pengguna atau integrasi pihak ketiga dan akan mengembalikan JSON atau format data terstruktur lainnya.</li>
<li><strong>Koneksi Git:</strong> Misalnya, saat Anda melakukan <code>git clone https://gitclub.dev/oso/authzacademy</code>. Koneksi ini dapat menggunakan protokol SSH atau HTTP.</li>
</ol>
<p>Semua permintaan tersebut terhubung ke satu titik: <strong>Proxy</strong>. Nama â€œproxyâ€ diberikan karena komponen ini mewakili (atau â€œmemproksikanâ€) sebuah web server. Proxy kemudian mengarahkan koneksi ke lokasi yang tepat. Dalam sistem yang lengkap, proxy dapat terdiri dari banyak bagian, seperti load balancer dan proxy autentikasi.</p>
<p>Website dan API dapat mengakses basis data (DB), di mana informasi seperti data akun pengguna disimpan.</p>
<p>API dan koneksi Git akan mengakses Sistem Berkas (FS), tempat penyimpanan repository Git.</p>
<p>Untuk autentikasi (sebagai pengingat: lihat bagian perbandingan autentikasi vs. otorisasi), aplikasi web kita akan menangani autentikasi pengguna menggunakan mekanisme username dan password sederhana. Setelah autentikasi awal, aplikasi web akan mengembalikan token kepada pengguna sehingga pada permintaan selanjutnya mereka tidak perlu mengirimkan password lagi. Aplikasi web juga memungkinkan pengguna membuat token API untuk berinteraksi dengan aplikasi API. Token ini dikenal sebagai â€œbearer tokensâ€ â€” sebuah token ringan yang memberikan akses kepada pemilik token.</p>
<p>Layanan Git melakukan autentikasi dengan menggunakan kombinasi username dan password yang sama seperti aplikasi web.</p>
<p><strong>Sedikit catatan: monolitik vs. microservices</strong></p>
<p>Arsitektur contoh kita di sini cukup monolitik. Kita hanya menjalankan beberapa aplikasi. Untuk microservices, terdapat beberapa perbedaan yang akan kami sebutkan saat menemui, dan akan dibahas lebih mendalam di Bab VI: Otorisasi dalam Microservices.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=model-data>Model Data<a href=#model-data class=hash-link aria-label="Taut langsung ke Model Data" title="Taut langsung ke Model Data">â€‹</a></h3>
<p>Dalam sistem ini, kita memiliki banyak Git Repository.</p>
<ul>
<li><strong>Organisasi</strong> memungkinkan akses grup ke repository. Sebuah Organisasi (seperti sebuah perusahaan atau kelompok open-source) dapat memiliki banyak Repository.</li>
<li>Setiap Organisasi dapat memiliki banyak Pengguna.</li>
<li>Satu orang direpresentasikan oleh sebuah Pengguna. Seorang Pengguna dapat menjadi bagian dari banyak Organisasi.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=tujuan-otorisasi-kami>Tujuan Otorisasi Kami<a href=#tujuan-otorisasi-kami class=hash-link aria-label="Taut langsung ke Tujuan Otorisasi Kami" title="Taut langsung ke Tujuan Otorisasi Kami">â€‹</a></h3>
<p>Di seluruh sistem, tujuan otorisasi kami adalah menerapkan satu aturan: Seorang Pengguna dapat mengakses sebuah Repository hanya jika dia merupakan bagian dari Organisasi yang memiliki Repository tersebut.</p>
<p>Aturan-aturan lainnya akan ditambahkan kemudian!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=3-di-mana-menempatkan-logika-otorisasi-kita>3. Di Mana Menempatkan Logika Otorisasi Kita<a href=#3-di-mana-menempatkan-logika-otorisasi-kita class=hash-link aria-label="Taut langsung ke 3. Di Mana Menempatkan Logika Otorisasi Kita" title="Taut langsung ke 3. Di Mana Menempatkan Logika Otorisasi Kita">â€‹</a></h2>
<p>Sekarang, setelah arsitektur kita telah diuraikan, mari kita pikirkan di mana otorisasi dapat diterapkan dengan mengikuti alur sebuah permintaan saat melewati komponen-komponen aplikasi kita dan melihat apa yang terjadi.</p>
<p>Misalnya, salah satu pengguna GitClub, â€œ<a href=mailto:alice@acme.org target=_blank rel="noopener noreferrer">alice@acme.org</a>â€, mengakses aplikasi melalui antarmuka web. Misalkan dia mencoba mengunjungi halaman repository tertentu, misalnya <a href=https://gitclub.dev/acme/anvil target=_blank rel="noopener noreferrer">https://gitclub.dev/acme/anvil</a>. Apa yang terjadi?</p>
<p>Pengguna tersebut sebelumnya telah melakukan autentikasi dengan password-nya, sehingga permintaan membawa token sebagai kredensial. Dalam kasus ini, pengguna diizinkan mengakses repository tersebut, karena â€œacmeâ€ adalah sebuah organisasi dan pengguna tersebut merupakan anggota organisasi itu.</p>
<p>Saat kita menelusuri permintaan melalui infrastruktur, kita akan selalu kembali ke tiga aspek utama otorisasi:</p>
<ul>
<li><strong>Siapa yang membuat permintaan?</strong></li>
<li><strong>Apa yang ingin mereka lakukan?</strong></li>
<li><strong>Terhadap apa mereka melakukannya?</strong></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=koneksi-awal>Koneksi Awal<a href=#koneksi-awal class=hash-link aria-label="Taut langsung ke Koneksi Awal" title="Taut langsung ke Koneksi Awal">â€‹</a></h3>
<p>Pertama-tama, browser pengguna membuat koneksi dengan <strong>Proxy</strong> yang menghadap ke luar.</p>
<ul>
<li>
<p><strong>Siapa yang membuat permintaan?</strong><br>
<!-- -->Kita belum mengetahui identitas pengguna yang membuat permintaan tersebut. Untuk mengetahuinya, kita perlu mengambil token dari permintaan. Mungkin kita hanya mengetahui alamat IP mereka.</p>
</li>
<li>
<p><strong>Apa yang ingin mereka lakukan?</strong><br>
<!-- -->Membangun koneksi TLS.</p>
</li>
<li>
<p><strong>Terhadap apa mereka melakukannya?</strong><br>
<!-- -->Host: gitclub.dev pada port 443.</p>
</li>
</ul>
<p>Pada tahap ini, kita belum melakukan otorisasi aplikasi, tetapi mungkin saja dilakukan otorisasi pada tingkat jaringan, misalnya dengan menggunakan daftar alamat IP yang diizinkan atau bahkan mewajibkan mutual TLS (meskipun hal ini agak kontroversial).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=di-proxy>Di Proxy<a href=#di-proxy class=hash-link aria-label="Taut langsung ke Di Proxy" title="Taut langsung ke Di Proxy">â€‹</a></h3>
<p>Proxy dikonfigurasikan untuk mengarahkan trafik ke server Web, API, dan Git sesuai kebutuhan. Ketiga komponen tersebut pada akhirnya perlu melakukan autentikasi pengguna. Seperti yang telah dijelaskan sebelumnya, autentikasi dapat dilakukan dengan kombinasi username/password atau dengan bearer token.</p>
<p>Jika kita memiliki banyak layanan downstream yang memerlukan autentikasi, menambahkan proxy autentikasi menjadi sangat berguna. Misalnya, baik Aplikasi Web maupun Aplikasi API membutuhkan token untuk mengakses sebagian besar route. Jika validasi token ditangani di proxy, maka kita dapat melakukan otorisasi sebagai berikut:</p>
<ul>
<li>
<p><strong>Siapa yang membuat permintaan?</strong><br>
<!-- -->Proxy memvalidasi token yang terdapat dalam permintaan, yang mungkin juga menyertakan informasi tentang pengguna. Misalnya, kita dapat menggunakan data yang dienkode dalam format JSON seperti pada JSON Web Token (JWT).<br>
<!-- -->Misalkan token yang telah didekode terlihat seperti ini:</p>
<p><em>(Gambar struktur token)</em></p>
<p>Dengan begitu, kita mengetahui bahwa pengguna adalah â€œ<a href=mailto:alice@acme.org target=_blank rel="noopener noreferrer">alice@acme.org</a>â€.</p>
</li>
<li>
<p><strong>Apa yang ingin mereka lakukan?</strong><br>
<!-- -->Dengan memeriksa permintaan HTTP, kita bisa mengetahui bahwa pengguna melakukan permintaan GET.</p>
</li>
<li>
<p><strong>Terhadap apa mereka melakukannya?</strong><br>
<!-- -->Dari inspeksi permintaan HTTP, URL yang dituju adalah <code>/acme/anvil</code>.</p>
</li>
</ul>
<p>Apakah kita dapat melakukan otorisasi berdasarkan informasi yang ada?<br>
<!-- -->Itu tergantung pada jenis otorisasi yang ingin kita terapkan. Dengan hanya mengandalkan informasi yang ada di permintaan, kita hanya dapat menerapkan otorisasi pada tingkat route. Misalnya, apakah pengguna â€œ<a href=mailto:alice@acme.org target=_blank rel="noopener noreferrer">alice@acme.org</a>â€ diizinkan melakukan permintaan GET ke <code>/acme/anvil</code>?<br>
<!-- -->Informasi yang kita miliki tentang pengguna hanyalah alamat email mereka, dan semua pengguna diizinkan melakukan permintaan GET ke path dengan pola <code>/&lt;owner>/&lt;repository></code>, sehingga ini diizinkan.</p>
<p>Namun, jika kita ingin menegakkan persyaratan penuh â€“ yaitu pengguna harus berada di organisasi yang sama dengan repository â€“ maka informasi yang ada tidaklah cukup. Bagaimana cara mendapatkan informasi tersebut? Kita bisa mempertimbangkan untuk menambahkan lebih banyak informasi ke dalam token, atau mengonfigurasi proxy agar dapat mengakses basis data. Pendekatan ini tentu menambah kompleksitas pada proxy dan menduplikasi logika akses basis data.</p>
<p>Meski begitu, proxy merupakan kandidat yang baik untuk menerapkan hal-hal yang berdekatan dengan otorisasi, seperti pembatasan laju akses pengguna (rate limiting), mewajibkan API key atau autentikasi, dan pemindaian payload berbahaya seperti yang biasa ditemukan di Web Application Firewall (WAF).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=di-router-website>Di Router Website<a href=#di-router-website class=hash-link aria-label="Taut langsung ke Di Router Website" title="Taut langsung ke Di Router Website">â€‹</a></h3>
<p><img decoding=async loading=lazy alt="Dua 01" src=/assets/images/02-dua-01-749f9ac22feb59a7bbcdc57fb482f900.png width=1600 height=955 class=img_ev3q>
<em>(Gambar arsitektur GitClub yang menyoroti website dan database)</em></p>
<p>Kita telah membahas proxy! Selanjutnya, mari kita lanjutkan ke website dan basis data.</p>
<p>Permintaan yang telah terautentikasi akhirnya tiba di router aplikasi web kita, di mana router memutuskan bagaimana menangani permintaan tersebut. Pada titik ini, biasanya ada middleware autentikasi yang mengubah identitas yang disertakan dalam permintaan menjadi model data (misalnya, objek User) yang diambil dari basis data.</p>
<ul>
<li>
<p><strong>Siapa yang membuat permintaan?</strong><br>
<!-- -->Misalkan middleware autentikasi telah mengonversi identitas dalam permintaan menjadi objek User, sehingga kita memiliki akses ke semua informasi yang kita butuhkan tentang pengguna.</p>
</li>
<li>
<p><strong>Apa yang ingin mereka lakukan?</strong><br>
<!-- -->Kita masih bekerja dengan objek HTTP Request, dengan metode HTTP GET.</p>
</li>
<li>
<p><strong>Terhadap apa mereka melakukannya?</strong><br>
<!-- -->Kita masih hanya memiliki objek permintaan dan path: â€œ/acme/anvilâ€.</p>
</li>
</ul>
<p>Karena sekarang kita memiliki akses ke data aplikasi, kita bisa mencari informasi relevan. Misalnya, kita dapat menggunakan logika yang sudah ada untuk mencari organisasi yang sesuai dengan <code>/acme/anvil</code> dan memeriksa apakah pengguna tersebut merupakan anggota organisasi itu.</p>
<p>Namun, inilah yang hampir sama dengan apa yang akan kita lakukan pada langkah berikutnya di lapisan controller. Controller akan mengambil permintaan, mencari data, melakukan manipulasi data yang diperlukan, dan menerapkan logika bisnis.</p>
<p>Jika kita mencoba melakukan otorisasi di middleware, kita akhirnya akan menduplikasi logika dan mungkin membuat panggilan basis data yang tidak perlu.</p>
<p>Beberapa skenario di mana masuk akal untuk melakukan otorisasi di lapisan ini antara lain:</p>
<ul>
<li>Menerapkan pendekatan <strong>defense-in-depth</strong> dengan memeriksa properti route-level yang sederhana. Misalnya, jika terdapat area khusus admin di website (<code>/admin/...</code>) dan hak admin tersimpan pada objek User, maka pemeriksaan ini bisa dilakukan dengan cepat.</li>
<li>Menjamin bahwa otorisasi telah dilakukan di salah satu titik penanganan permintaan, mungkin di lapisan yang lebih dalam dalam aplikasi. Ini memberikan manfaat memastikan otorisasi diterapkan di mana pun, tanpa dibatasi hanya pada kontrol route-level yang kasar.</li>
<li>Pada aplikasi di mana routing permintaan dan akses data sangat terkait erat. Misalnya, aplikasi API dengan antarmuka REST atau GraphQL tipis di depan basis data. Dalam kasus ini, lapisan Router dan Controller secara efektif tergabung, dan otorisasi dapat diterapkan pada keduanya secara bersamaan.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=di-aplikasi-webcontroller>Di Aplikasi Web/Controller<a href=#di-aplikasi-webcontroller class=hash-link aria-label="Taut langsung ke Di Aplikasi Web/Controller" title="Taut langsung ke Di Aplikasi Web/Controller">â€‹</a></h3>
<p>Router web memetakan permintaan GET <code>/acme/anvil</code> ke metode controller kita. Misalkan metode tersebut adalah <code>view_repository(owner: "acme", name: "anvil")</code>.</p>
<p>Di dalam metode ini, kita bertanggung jawab untuk mengumpulkan data yang diperlukan untuk menampilkan halaman <code>/acme/anvil</code> dan meneruskan data tersebut ke view. Di GitClub, kami cenderung menggunakan kode yang sederhana, sehingga halaman di-render secara server-side. Jadi, kita akan mengambil semua data untuk UI dan me-render sebuah template untuk pengguna.</p>
<p>Tanpa masuk ke terlalu banyak detail, tampilan repository kita kemungkinan akan mencakup beberapa kode sumber, isu, pull request, kontributor, serta informasi dasar mengenai repository itu sendiri.</p>
<p>Pada akhirnya, semua data yang ditampilkan kepada pengguna harus melalui proses otorisasi. Apakah mereka diizinkan melihat repository tersebut? Bagaimana dengan data tambahan lain di halaman itu?</p>
<ul>
<li>
<p><strong>Siapa yang membuat permintaan?</strong><br>
<!-- -->Berdasarkan langkah sebelumnya, kita dapat mengasumsikan bahwa objek User telah diambil melalui middleware autentikasi.</p>
</li>
<li>
<p><strong>Apa yang ingin mereka lakukan?</strong><br>
<!-- -->Melihat halaman repository dan mengakses informasi repository. Di dalam metode controller, kita memiliki konteks penuh mengenai apa yang sedang dilakukan oleh pengguna.</p>
</li>
<li>
<p><strong>Terhadap apa mereka melakukannya?</strong><br>
<!-- -->Repository <code>acme/anvil</code>, yang akan kita ambil dari basis data sebagai bagian dari metode tersebut.</p>
</li>
</ul>
<p>Akhirnya, tampaknya kita sudah memiliki semua informasi yang diperlukan dan mengetahui dengan tepat apa yang ingin dicapai oleh pengguna. Repository anvil dimiliki oleh organisasi acme, dan pengguna merupakan anggota dari organisasi itu, sehingga mereka diizinkan untuk melihatnya.</p>
<p><strong>Extra credit</strong><br>
<!-- -->Tapi tunggu, masih ada lagi!</p>
<p>Bagaimana dengan data tambahan yang diakses untuk me-render view? Misalnya, anggota repository, isu, komentar, dan sebagainya. Apakah semua data ini juga harus melalui otorisasi?</p>
<p>Kita dapat terus membuat keputusan kontrol akses sesuai kebutuhan. Kita memiliki akses ke semua informasi relevan dan mengetahui data apa yang akan diambil untuk pengguna.</p>
<p>Kita bahkan dapat melangkah lebih jauh. Misalnya, jika kita mengetahui bahwa pengguna tidak memiliki akses untuk mengonfigurasi pengaturan repository karena bukan admin repository, maka informasi tersebut dapat diteruskan ke view renderer agar opsi tersebut disembunyikan dari halaman. Hal ini akan dibahas lebih lanjut di panduan mendatang.</p>
<p>Jika pengguna tidak diizinkan untuk melihat repository, pada titik ini juga merupakan tempat yang ideal untuk menampilkan view yang menyampaikan informasi yang berguna atau mengembalikan respons â€œForbiddenâ€.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=di-basis-datakonektor-basis-data>Di Basis Data/Konektor Basis Data<a href=#di-basis-datakonektor-basis-data class=hash-link aria-label="Taut langsung ke Di Basis Data/Konektor Basis Data" title="Taut langsung ke Di Basis Data/Konektor Basis Data">â€‹</a></h3>
<p>Ada satu tempat terakhir di mana kita dapat menerapkan otorisasi: saat mengambil data dari basis data. Beberapa opsi yang dapat dipertimbangkan untuk otorisasi ini antara lain:</p>
<ul>
<li>
<p><strong>Siapa yang membuat permintaan?</strong><br>
<!-- -->Kita bisa menyertakan informasi tentang pengguna dalam konteks query.</p>
</li>
<li>
<p><strong>Apa yang ingin mereka lakukan?</strong><br>
<!-- -->Menjalankan pernyataan SQL SELECT.</p>
</li>
<li>
<p><strong>Terhadap apa mereka melakukannya?</strong><br>
<!-- -->Tabel repositories dengan filter nama = "acme/anvil".</p>
</li>
</ul>
<p>Kini kita berada di lapisan akses data, sehingga perlu menyertakan konteks aplikasi yang diperlukan dalam koneksi atau query basis data.</p>
<p>Ingat logika yang ingin kita tegakkan:</p>
<blockquote>
<p>Pengguna dapat membaca repository jika mereka merupakan anggota organisasi yang sama dengan repository tersebut.</p>
</blockquote>
<p>Lapisan data bisa menjadi tempat ideal untuk menerapkan aturan ini karena aturan tersebut dapat dengan mudah direpresentasikan dalam bentuk query SQL. Misalnya, saat menjalankan pernyataan SELECT pada tabel repositories, kita bisa melakukan join dengan tabel organization_members dan hanya memilih repository yang berada di organisasi yang sama dengan pengguna.</p>
<p>Sebagai contoh, jika query aslinya adalah:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">fields</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">FROM</span><span class="token plain"> repositories r </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">	</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">WHERE</span><span class="token plain"> r</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">name </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"acme/anvil"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Salin kode ke papan klip" title=Salin class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em>(Gambar: Pernyataan SELECT pada tabel repositories)</em></p>
<p>maka dengan otorisasi diterapkan, query-nya menjadi:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">fields</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">FROM</span><span class="token plain"> repositories r </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">	</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">JOIN</span><span class="token plain"> organization_members om </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">ON</span><span class="token plain"> r</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">organization_id </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> om</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">organization_id </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">	</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">WHERE</span><span class="token plain"> r</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">name </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"acme/anvil"</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">AND</span><span class="token plain"> om</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">member_id </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> $</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Salin kode ke papan klip" title=Salin class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em>(Gambar: Pernyataan SELECT pada tabel repositories dengan join)</em></p>
<p>Keuntungan dari pendekatan ini adalah memungkinkan kita melakukan lebih dari sekadar menjawab pertanyaan otorisasi dengan jawaban ya/tidak. Misalnya, kita bisa membuat daftar semua repository yang dapat dilihat pengguna pada halaman beranda mereka dengan menerapkan filter yang sama.</p>
<p>Tantangan di sini adalah bagaimana menghasilkan filter query untuk otorisasi tanpa menduplikasi logika dalam menyusun dan mengelola pernyataan SQL, yang seharusnya sudah kita tangani di dalam aplikasi. Karena itu, seringkali masuk akal untuk menerapkan filter otorisasi dengan menggunakan mekanisme yang sama yang digunakan di tempat lain dalam aplikasi.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=ringkasan>Ringkasan<a href=#ringkasan class=hash-link aria-label="Taut langsung ke Ringkasan" title="Taut langsung ke Ringkasan">â€‹</a></h3>
<p>Secara ringkas, terdapat beberapa kandidat untuk menerapkan otorisasi:</p>
<ul>
<li>
<p><strong>Pada lapisan jaringan:</strong><br>
<!-- -->Lapisan ini memiliki data yang sangat terbatas dan hanya memungkinkan kontrol akses jaringan sederhana seperti daftar izinkan/tolak. Kita sebaiknya tidak fokus pada otorisasi di sini.</p>
</li>
<li>
<p><strong>Pada Proxy atau Router:</strong><br>
<!-- -->Ini paling cocok untuk otorisasi pada tingkat route, karena kontrol akses yang lebih granular umumnya memerlukan panggilan tambahan ke layanan atau basis data untuk membuat keputusan otorisasi.</p>
</li>
<li>
<p><strong>Pada Aplikasi/Controller:</strong><br>
<!-- -->Di sini, semua informasi tersedia, sehingga kita dapat dengan mudah menerapkan persyaratan otorisasi. Ini merupakan tempat yang baik untuk menempatkan logika otorisasi.</p>
</li>
<li>
<p><strong>Pada Basis Data:</strong><br>
<!-- -->Jika aplikasi menghasilkan filter basis data, kita dapat menerapkan otorisasi di sini. Pendekatan ini memungkinkan kita mengajukan pertanyaan akses yang lebih luas, sehingga jika memungkinkan, yang terbaik adalah menegakkan otorisasi di sini.</p>
</li>
</ul>
<p>Secara umum, yang paling mudah adalah menerapkan otorisasi sedekat mungkin dengan sumber daya yang ingin kita lindungi, karena di sana tersedia konteks yang paling lengkap tentang apa yang sebenarnya sedang dicoba dilakukan oleh pengguna, beserta data yang diperlukan untuk mengambil keputusan.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=4-menambahkan-otorisasi-ke-dalam-aplikasi>4. Menambahkan Otorisasi ke dalam Aplikasi<a href=#4-menambahkan-otorisasi-ke-dalam-aplikasi class=hash-link aria-label="Taut langsung ke 4. Menambahkan Otorisasi ke dalam Aplikasi" title="Taut langsung ke 4. Menambahkan Otorisasi ke dalam Aplikasi">â€‹</a></h2>
<p>Kita telah membahas di mana dalam arsitektur kita ingin menerapkan otorisasi. Kita melihat bahwa dalam banyak kasus kita ingin melakukan otorisasi di dalam aplikasi agar kita memiliki akses penuh ke konteks aplikasi.</p>
<p>Tetapi, bagaimana cara kita mendesain, mengimplementasikan, dan menjalankan otorisasi?</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=pendekatan-naif>Pendekatan Naif<a href=#pendekatan-naif class=hash-link aria-label="Taut langsung ke Pendekatan Naif" title="Taut langsung ke Pendekatan Naif">â€‹</a></h3>
<p>Banyak orang ketika mulai mengerjakan aplikasi, mereka tidak â€œmengimplementasikan otorisasiâ€ sebagai langkah pengembangan terpisah. Mereka hanya menambahkan pengecekan yang tampaknya diperlukan ke dalam kode aplikasi secara langsung. Alasannya, logika otorisasi awalnya terasa sederhanaâ€”mungkin Anda bahkan tidak menyadari kehadirannya! Misalnya, Anda bisa saja memfilter semua repository berdasarkan ID pengguna atau ID organisasi sebagai bagian dari query basis data. Karena konteks aplikasi sudah tersedia, implementasinya pun terasa mudah.</p>
<p>Namun, pendekatan ini dengan cepat menjadi sulit dikelola. Seiring bertambahnya titik-titik dalam aplikasi di mana otorisasi perlu diterapkan, Anda akan mulai menduplikasi logika yang sama. Setiap perubahan kemudian memaksa Anda untuk mengingat setiap tempat di mana logika tersebut telah diduplikasi.</p>
<p>Sebagai contoh, pada contoh sebelumnya, kita menegakkan bahwa seorang pengguna hanya dapat melihat halaman <code>/acme/anvil</code> jika dia merupakan anggota organisasi Acme. Logika yang sama juga berlaku untuk sub-halaman lain seperti <code>/acme/anvil/issues</code> dan <code>/acme/anvil/members</code> dan seterusnya. Setiap metode yang menangani halaman-halaman tersebut harus mengulangi logika yang sama.</p>
<p>Sekarang, misalkan kita menambahkan fitur yang mengizinkan mengundang pengguna di luar organisasi untuk berkolaborasi pada repository tertentu. Kita sekarang harus menambahkan pengecekan ini ke dalam handler otorisasi, yang dalam kasus naif berarti setiap metode yang menangani halaman repository harus dimodifikasi.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=memisahkan-otorisasi-dari-logika-aplikasi-itu-sulit>Memisahkan Otorisasi dari Logika Aplikasi itu Sulit<a href=#memisahkan-otorisasi-dari-logika-aplikasi-itu-sulit class=hash-link aria-label="Taut langsung ke Memisahkan Otorisasi dari Logika Aplikasi itu Sulit" title="Taut langsung ke Memisahkan Otorisasi dari Logika Aplikasi itu Sulit">â€‹</a></h3>
<p>Seperti halnya dengan bagian logika aplikasi lainnya, kita ingin menerapkan prinsip <em>separation of concerns</em>â€”yaitu menulis logika otorisasi secara terpisah dari logika bisnis aplikasi. Namun, ternyata hal ini sangat sulit dilakukan! Awalnya, mungkin kita akan melakukan refactoring pada semua tampilan repository untuk pertama-tama memuat dan memeriksa izin pada repository. Namun, kemudian kita menyadari bahwa aturan otorisasi kita tidak bersifat universal: hanya admin organisasi yang diizinkan mengakses <code>/acme/anvil/settings</code>, sehingga kita harus memodifikasi abstraksi repository untuk menyertakan informasi tentang admin organisasi. Otorisasi begitu terjalin erat dengan aplikasi sehingga sulit menemukan antarmuka yang bersih untuk memisahkan otorisasi dari logika bisnis.</p>
<p>Lantas, bagaimana kita mendesain sesuatu yang lebih baik?</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=memformalkan-model-otorisasi-kita>Memformalkan Model Otorisasi Kita<a href=#memformalkan-model-otorisasi-kita class=hash-link aria-label="Taut langsung ke Memformalkan Model Otorisasi Kita" title="Taut langsung ke Memformalkan Model Otorisasi Kita">â€‹</a></h3>
<p>Dari contoh di atas, kita dapat merumuskan keputusan otorisasi sebagai tiga pertanyaan:</p>
<ol>
<li>
<p><strong>Siapa</strong> yang membuat permintaan?<br>
<!-- -->Istilah formalnya adalah <em>actor</em>. Dalam banyak kasus, actor ini hanyalah pengguna aplikasi.</p>
</li>
<li>
<p><strong>Apa</strong> yang ingin mereka lakukan?<br>
<!-- -->Ini seringkali merupakan sebuah kata kerja sederhana, misalnya <em>create, read, update, delete</em> (CRUD) seperti yang umum dalam API. Kata-kata ini kita sebut sebagai <em>aksi</em>.</p>
</li>
<li>
<p><strong>Terhadap apa</strong> mereka melakukannya?<br>
<!-- -->Ini adalah <em>resource</em>, yang bisa berupa objek tertentu dalam aplikasiâ€”misalnya, dalam kasus GitLab, sebuah repository atau sebuah organisasi.</p>
</li>
</ol>
<p>Tripel (actor, action, resource) ini telah sering digunakan dalam sistem otorisasi. Misalnya, literatur Microsoft Azure menggunakan istilah â€œSecurity Principalâ€, â€œActionâ€, dan â€œResourceâ€.</p>
<p>Manfaat dari memperkenalkan struktur ini ke dalam aplikasi Anda adalah dua kali lipat. Pertama, Anda mendapatkan bahasa yang konsisten untuk membicarakan otorisasi, baik untuk kasus sederhana maupun kompleks. Seorang actor bisa jadi pengguna biasa, namun bisa juga aplikasi pihak ketiga yang bertindak atas nama pengguna yang telah mendelegasikan izin kepada pengguna lain.</p>
<p>Kedua, struktur ini memberikan dasar untuk antarmuka yang bersih. Sebuah antarmuka otorisasi sederhana menerima tripel (actor, action, resource) dan mengembalikan keputusan <em>allow</em> atau <em>deny</em> untuk input tersebut.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=antarmuka-apa-yang-digunakan-untuk-api-otorisasi-kita>Antarmuka Apa yang Digunakan Untuk API Otorisasi Kita<a href=#antarmuka-apa-yang-digunakan-untuk-api-otorisasi-kita class=hash-link aria-label="Taut langsung ke Antarmuka Apa yang Digunakan Untuk API Otorisasi Kita" title="Taut langsung ke Antarmuka Apa yang Digunakan Untuk API Otorisasi Kita">â€‹</a></h3>
<p>Sampai saat ini, kita telah banyak membahas di mana kita dapat â€œmenerapkanâ€ otorisasiâ€”yang mengacu pada proses evaluasi permintaan input, mengekstrak informasi relevan, menggabungkannya dengan pencarian data tambahan, menerapkan aturan dan pengecekan, hingga memfilter data berdasarkan izin.</p>
<p>Ada dua bagian penting dalam hal ini: <strong>penegakan</strong> (enforcement) dan <strong>keputusan</strong> (decision). Antarmuka otorisasi adalah batas antara kedua hal tersebut.</p>
<p>Misalnya, anggap antarmuka kita adalah sebuah metode <code>is_allowed(actor, action, resource)</code>, yang akan dipanggil dengan input yang telah kita sebutkan, misalnya:<br>
<code>is_allowed(current_user, "read", Repository(name: "acme/anvil"))</code>.</p>
<ul>
<li>
<p><strong>Penegakan</strong> (Enforcement) adalah bagaimana kita memutuskan apa yang harus dilakukan berdasarkan hasil otorisasi. Ini berarti mengekstrak actor, action, dan resource dari permintaan seperti yang telah kita lihat sebelumnya, kemudian memanggil metode <code>is_allowed</code>.</p>
<p>Di GitClub, jika pengguna tidak memiliki izin untuk membaca repository <code>/acme/anvil</code>, kita dapat mengembalikan respons HTTP 403 Forbidden atau mengarahkan pengguna ke halaman lain. Contoh penegakan lainnya termasuk penggunaan filter basis data untuk membatasi akses ke sekumpulan data tertentu.</p>
</li>
<li>
<p><strong>Keputusan</strong> (Decision) adalah bagaimana kita mengimplementasikan antarmuka otorisasi: dengan menerima tripel input (actor, action, resource) dan mengembalikan hasil. Dalam contoh sebelumnya, keputusannya adalah: pengguna diizinkan mengakses repository karena <code>acme/anvil</code> berada dalam organisasi Acme, dan pengguna merupakan anggota organisasi tersebut.</p>
</li>
</ul>
<p><img decoding=async loading=lazy alt=Tiga src=/assets/images/02-dua-03-df01e9c9ccd7b36350be170bcec8926e.png width=1600 height=725 class=img_ev3q></p>
<p>Keputusan otorisasi tidak harus selalu berupa jawaban biner ya/tidak; bisa jadi bergantung pada kejadian atau pengecekan lain, atau memiliki efek tambahan seperti mengeluarkan peringatan.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=opsi-untuk-mengimplementasikan-keputusan-otorisasi>Opsi untuk Mengimplementasikan Keputusan Otorisasi<a href=#opsi-untuk-mengimplementasikan-keputusan-otorisasi class=hash-link aria-label="Taut langsung ke Opsi untuk Mengimplementasikan Keputusan Otorisasi" title="Taut langsung ke Opsi untuk Mengimplementasikan Keputusan Otorisasi">â€‹</a></h3>
<p>Untuk membuat keputusan otorisasi, kita memerlukan dua komponen: <strong>data</strong> dan <strong>logika</strong>.</p>
<ul>
<li><strong>Data otorisasi</strong> adalah subset data aplikasi yang digunakan untuk kontrol akses. Misalnya, Alice adalah anggota organisasi Acme, dan repository <code>acme/anvil</code> milik organisasi Acme.</li>
<li><strong>Logika otorisasi</strong> menggambarkan aturan abstrak yang diterapkan pada data untuk menentukan apakah seorang pengguna diizinkan melakukan aksi tertentu pada resource. Misalnya, anggota suatu organisasi diizinkan mengakses repository yang dimiliki oleh organisasi tersebut.</li>
</ul>
<p>Ada dua pendekatan utama untuk membuat keputusan otorisasi:</p>
<ol>
<li>
<p><strong>Pendekatan Terdesentralisasi (Decentralized Authorization):</strong><br>
<!-- -->Di mana masing-masing aplikasi membuat keputusan otorisasi sendiri menggunakan data yang telah dimilikinya. Pendekatan ini merupakan perkembangan alami dari implementasi ad hoc. Anda bisa merefaktor kode yang ada agar penegakan (enforcement) dan keputusan (decision) dipisahkan melalui antarmuka yang telah kita usulkan.</p>
<p>Pendekatan ini dapat berupa implementasi <em>do-it-yourself</em> yang dibangun khusus, bagian bawaan dari framework yang Anda gunakan, atau library otorisasi khusus. Contohnya termasuk Declarative Policy framework dari GitLab, Pundit untuk Ruby/Rails, django-guardian untuk Python/Django, atau (favorit kami karena kami yang membuatnya) Oso untuk berbagai bahasa.<br>
<strong>Keuntungan:</strong></p>
<ul>
<li>Menyederhanakan pengalaman pengembangan karena logika otorisasi berada dalam aplikasi itu sendiri.</li>
<li>Perubahan pada izin dilakukan seperti perubahan pada aplikasi, dengan proses yang sama untuk pengujian dan debugging.</li>
<li>Akses langsung ke data yang diperlukan untuk membuat keputusan otorisasi (misalnya, data organisasi pengguna).</li>
</ul>
<p><strong>Kekurangan:</strong></p>
<ul>
<li>Jika ada banyak aplikasi (misalnya, Web, API, dan Git), logika otorisasi bisa jadi diduplikasi di setiap aplikasi, bahkan logika pengambilan data juga bisa terduplikasi.</li>
</ul>
</li>
</ol>
<p><img decoding=async loading=lazy alt="Decentralize Authorization" src=/assets/images/02-dua-decentralize-authorization-3cac0312221314b48144783678dfcbcf.png width=1538 height=1155 class=img_ev3q></p>
<ol start=2>
<li>
<p><strong>Pendekatan Terpusat (Centralized Authorization):</strong><br>
<!-- -->Jika kita memiliki banyak aplikasi atau layanan yang menangani actor, action, dan resource yang sama, sebaiknya kita tidak menduplikasi kode otorisasi di antara mereka. Kita dapat memisahkan logika otorisasi dengan menambahkan sebuah layanan terpisah yang dipanggil oleh aplikasi-aplikasi kita.</p>
<p>Pada model terpusat, aplikasi mengelola data mereka sendiri dan logika otorisasi dipisahkan, tetapi layanan pusat tersebut tetap perlu mengakses semua data.</p>
<p><strong>Opsi untuk Layanan Pusat:</strong></p>
<ul>
<li><strong>Mengambil Data Secara Langsung:</strong> Layanan pusat dapat dibuat sebagai layanan biasa yang mengambil data dengan membuat permintaan ke layanan lain atau mengakses basis data secara langsung. Kelemahannya, ini menciptakan keterkaitan (coupling) antara semua layanan dan layanan pusat.</li>
<li><strong>Menjadikan Layanan Pusat sebagai Pemilik Data:</strong> Seperti sistem Zanzibar dari Google, di mana layanan tersebut menjadi sumber kebenaran utama untuk data otorisasi (misalnya, peran pengguna dalam organisasi atau kepemilikan repository).</li>
<li><strong>Mengirim Data Aplikasi ke Layanan Pusat:</strong> Data relevan disertakan sebagai bagian dari permintaan ke layanan otorisasi. Menentukan data mana yang â€œrelevanâ€ bisa jadi sama sulitnya dengan membuat keputusan otorisasi itu sendiri.</li>
</ul>
<p><strong>Kekurangan:</strong></p>
<ul>
<li>Kompleksitas dalam mengelola layanan terpisah serta ketergantungan yang dibentuk antara aplikasi dengan layanan pusat.</li>
</ul>
</li>
</ol>
<p><img decoding=async loading=lazy alt="Centralized authorization" src=/assets/images/02-dua-centralized-authorization-a39a8928363cb1a2943920dac8a284c4.png width=1538 height=1155 class=img_ev3q></p>
<ol start=3>
<li>
<p><strong>Pendekatan Hibrid (Hybrid Approach):</strong><br>
<!-- -->Pendekatan ini menggabungkan elemen terbaik dari kedua pendekatan di atas.<br>
<!-- -->Dalam model hibrid, setiap aplikasi atau layanan mengelola data dan otorisasi terkait secara independen. Namun, aplikasi dapat saling bergantung untuk mendukung keputusan otorisasi.</p>
<p>Contohnya, pada aplikasi monolit yang memiliki beberapa layanan tambahan kecil, monolit pusat mengontrol semua data dan menyediakan endpoint sederhana untuk layanan lainnya. Pola yang sama bisa diterapkan di antara beberapa layanan.</p>
<p>Misalnya, dalam contoh GitClub, mungkin layanan API mengelola organisasi, repository, dan data pengguna, sedangkan layanan Git hanya perlu mengetahui apakah seorang pengguna diizinkan membaca source code repository. Jadi, layanan Git mendelegasikan keputusan otorisasi ke layanan API.<br>
<!-- -->Untuk mewujudkannya, antarmuka otorisasi sederhana kita perlu diperluas agar dapat mengembalikan informasi lebih lengkap, seperti daftar izin yang dimiliki pengguna pada repository tertentu.</p>
</li>
</ol>
<p><img decoding=async loading=lazy alt="Hybrid approach" src=/assets/images/02-dua-hybrid-approach-25572651d15311f748f535f140f4ff9b.png width=1538 height=1155 class=img_ev3q></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=panduan-singkat-mengenai-aliran-data-otorisasi>Panduan Singkat Mengenai Aliran Data Otorisasi<a href=#panduan-singkat-mengenai-aliran-data-otorisasi class=hash-link aria-label="Taut langsung ke Panduan Singkat Mengenai Aliran Data Otorisasi" title="Taut langsung ke Panduan Singkat Mengenai Aliran Data Otorisasi">â€‹</a></h3>
<p>Sebagai rangkuman, terdapat beberapa pendekatan berbeda untuk membuat keputusan otorisasi:</p>
<ul>
<li>
<p><strong>Pendekatan Terdesentralisasi:</strong><br>
<!-- -->Paling sederhana untuk diimplementasikan, karena setiap aplikasi mengelola otorisasi mereka sendiri. Ini adalah pendekatan terbaik untuk jumlah aplikasi yang kecil atau di mana keputusan bergantung pada data yang sudah dikelola oleh aplikasi.</p>
</li>
<li>
<p><strong>Pendekatan Terpusat:</strong><br>
<!-- -->Dapat membantu menjaga konsistensi logika keputusan di antara banyak aplikasi dan membuat perubahan kebijakan menjadi terpisah. Namun, pendekatan ini mengharuskan pengumpulan data otorisasi dalam jumlah besar untuk membuat keputusan. Pendekatan ini cocok ketika banyak layanan perlu membuat keputusan otorisasi berdasarkan data yang sama.</p>
</li>
<li>
<p><strong>Pendekatan Hibrid:</strong><br>
<!-- -->Menyerahkan pembuatan keputusan kepada aplikasi individual, namun membuat keputusan tersebut dapat diakses oleh aplikasi lain saat diperlukan. Ini adalah pendekatan terbaik untuk menyeimbangkan pemisahan logika dan data di antara aplikasi, tetapi memerlukan cara implementasi yang konsisten.</p>
</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=5-menyatukan-semuanya>5. Menyatukan Semuanya<a href=#5-menyatukan-semuanya class=hash-link aria-label="Taut langsung ke 5. Menyatukan Semuanya" title="Taut langsung ke 5. Menyatukan Semuanya">â€‹</a></h2>
<p>Mengimplementasikan otorisasi memerlukan komponen-komponen berikut:</p>
<ul>
<li><strong>Sistem autentikasi</strong> untuk mengidentifikasi siapa yang membuat permintaan (actor).</li>
<li><strong>Penegakan otorisasi (enforcement)</strong>, yang mengambil permintaan, menerjemahkannya menjadi tripel (actor, action, resource), dan meneruskan informasi tersebut ke proses keputusan otorisasi.</li>
<li><strong>Logika otorisasi</strong>, yang menentukan bagaimana suatu keputusan dibuat, dinyatakan berdasarkan data otorisasi.</li>
<li><strong>Implementasi keputusan</strong>, yang menerima input (actor, action, resource) bersama dengan logika dan data otorisasi, kemudian mengembalikan keputusan.</li>
<li>Keputusan yang dihasilkan kemudian digunakan oleh penegakan untuk mengembalikan respons kepada actor.</li>
</ul>
<p>Walaupun terdapat banyak kombinasi dan variasi dari komponen-komponen di atas, untuk sebagian besar aplikasi kami biasanya merekomendasikan setup berikut:</p>
<ul>
<li>Gunakan penyedia identitas (identity provider) untuk menangani autentikasi.</li>
<li>Lakukan penegakan otorisasi di dalam aplikasi itu sendiri.</li>
<li>Pisahkan logika otorisasi dari kode aplikasi dengan menambahkan antarmuka otorisasi.</li>
<li>Simpan data otorisasi di dalam aplikasi. Artinya, gunakan model terdesentralisasi yang sederhana untuk mengimplementasikan keputusan jika aplikasi Anda hanya memiliki sedikit layanan, atau gunakan pendekatan hibrid untuk banyak layanan.</li>
</ul>
<p>Tentu saja, setiap organisasi harus menilai kasus penggunaan dan trade-off-nya secara individual. Jika ini merupakan area yang sedang Anda eksplorasi, kami mengundang Anda untuk bergabung dengan komunitas pengembang di Oso Slack! Tim inti engineering kami juga ada di Slack dan dengan senang hati akan berdiskusi serta menjawab pertanyaan Anda. Jika Anda ingin memulai proses membangun otorisasi ke dalam aplikasi, Anda bisa menggunakan Oso dan mempelajari lebih lanjut di dokumentasi Oso.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=6-apa-selanjutnya>6. Apa Selanjutnya<a href=#6-apa-selanjutnya class=hash-link aria-label="Taut langsung ke 6. Apa Selanjutnya" title="Taut langsung ke 6. Apa Selanjutnya">â€‹</a></h2>
<p>Sampai saat ini, kita telah membahas berbagai arsitektur untuk mengimplementasikan penegakan otorisasi dan pengambilan keputusan. Namun, keseruannya tidak berhenti di situ.</p>
<p>Setelah Anda mulai membangun sistem otorisasi sebagai bagian dari keseluruhan aplikasi, area-area terkait lainnya mulai muncul.</p>
<p>Sebagai contoh, bagaimana jika kita ingin menyampaikan informasi otorisasi kepada pengguna akhir? Tidaklah ideal jika pengguna terus-menerus diberitahu "aksi ini dilarang"; sebaliknya, antarmuka pengguna itu sendiri harus menunjukkan apa yang dapat atau tidak dapat dilakukan oleh pengguna. Untuk melakukan ini, kita perlu agar backend mengembalikan informasi tersebut kepada pengguna: jika pengguna tidak memiliki izin untuk menulis, maka opsi untuk melakukan perubahan harus ditampilkan dalam keadaan tidak aktif (misalnya, menjadi abu-abu).</p>
<p>Demikian pula, kita mungkin ingin menyediakan antarmuka admin yang menampilkan izin apa saja yang dimiliki anggota organisasi dalam aplikasi. Ini bisa mencakup daftar peran yang ada dalam aplikasi, siapa saja yang memiliki akses ke resource tertentu, atau resource apa saja yang dapat diakses oleh seorang pengguna.</p>
<p>Semua ini melibatkan pemikiran tentang otorisasi sebagai salah satu komponen dalam keseluruhan aplikasi. Kita akan kembali membahas detail penggunaan spesifik tersebut pada bab-bab mendatang.</p>
<p>Selain contoh sederhana yang kita gunakan dalam panduan ini, repository juga dapat dibuat, dihapus, dibaca, atau diedit dengan berbagai cara, dan memiliki resource turunan (seperti issues, wikis, branches, dll.) yang kontrol aksesnya terkait dengan resource induknya. Selain itu, hierarki izin tidak terbatas pada resource saja. Pengguna bisa dikelompokkan ke dalam organisasi, kemudian dikelompokkan lagi ke dalam tim dan sub-tim, yang semakin mempersulit pengendalian akses.</p>
<p>Pada entri berikutnya, kita akan menunjukkan bagaimana menerapkan pola-pola otorisasi umum untuk jenis kasus penggunaan tersebut. Kita akan menggunakan GitClub sebagai contoh, tetapi pola-pola yang kita bahasâ€”termasuk kepemilikan (ownership), izin hierarkis, dan resource yang bersarang (nested resources)â€”merupakan hal yang umum dalam banyak aplikasi yang berfokus pada pengguna.</div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Halaman dokumentasi"><a class="pagination-nav__link pagination-nav__link--prev" href=/learning/guide-authorization/intro><div class=pagination-nav__sublabel>Sebelum</div><div class=pagination-nav__label>Pengantar Authorization Academy</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/learning/guide-authorization/rbac><div class=pagination-nav__sublabel>Berikut</div><div class=pagination-nav__label>Role-Based Access Control (RBAC)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#1-autentikasi-vs-otorisasi class="table-of-contents__link toc-highlight">1. Autentikasi vs. Otorisasi</a><li><a href=#2-bentuk-otorisasi-dalam-aplikasi class="table-of-contents__link toc-highlight">2. Bentuk Otorisasi dalam Aplikasi</a><ul><li><a href=#arsitektur-website class="table-of-contents__link toc-highlight">Arsitektur Website</a><li><a href=#model-data class="table-of-contents__link toc-highlight">Model Data</a><li><a href=#tujuan-otorisasi-kami class="table-of-contents__link toc-highlight">Tujuan Otorisasi Kami</a></ul><li><a href=#3-di-mana-menempatkan-logika-otorisasi-kita class="table-of-contents__link toc-highlight">3. Di Mana Menempatkan Logika Otorisasi Kita</a><ul><li><a href=#koneksi-awal class="table-of-contents__link toc-highlight">Koneksi Awal</a><li><a href=#di-proxy class="table-of-contents__link toc-highlight">Di Proxy</a><li><a href=#di-router-website class="table-of-contents__link toc-highlight">Di Router Website</a><li><a href=#di-aplikasi-webcontroller class="table-of-contents__link toc-highlight">Di Aplikasi Web/Controller</a><li><a href=#di-basis-datakonektor-basis-data class="table-of-contents__link toc-highlight">Di Basis Data/Konektor Basis Data</a><li><a href=#ringkasan class="table-of-contents__link toc-highlight">Ringkasan</a></ul><li><a href=#4-menambahkan-otorisasi-ke-dalam-aplikasi class="table-of-contents__link toc-highlight">4. Menambahkan Otorisasi ke dalam Aplikasi</a><ul><li><a href=#pendekatan-naif class="table-of-contents__link toc-highlight">Pendekatan Naif</a><li><a href=#memisahkan-otorisasi-dari-logika-aplikasi-itu-sulit class="table-of-contents__link toc-highlight">Memisahkan Otorisasi dari Logika Aplikasi itu Sulit</a><li><a href=#memformalkan-model-otorisasi-kita class="table-of-contents__link toc-highlight">Memformalkan Model Otorisasi Kita</a><li><a href=#antarmuka-apa-yang-digunakan-untuk-api-otorisasi-kita class="table-of-contents__link toc-highlight">Antarmuka Apa yang Digunakan Untuk API Otorisasi Kita</a><li><a href=#opsi-untuk-mengimplementasikan-keputusan-otorisasi class="table-of-contents__link toc-highlight">Opsi untuk Mengimplementasikan Keputusan Otorisasi</a><li><a href=#panduan-singkat-mengenai-aliran-data-otorisasi class="table-of-contents__link toc-highlight">Panduan Singkat Mengenai Aliran Data Otorisasi</a></ul><li><a href=#5-menyatukan-semuanya class="table-of-contents__link toc-highlight">5. Menyatukan Semuanya</a><li><a href=#6-apa-selanjutnya class="table-of-contents__link toc-highlight">6. Apa Selanjutnya</a></ul></div></div></div></div></main></div></div></div><footer class="bg-gray-100 dark:bg-slate-950/50"><div class="mx-auto max-w-7xl px-4 py-10"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Sosial Media</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.facebook.com/lyrihkaesa.official target=_blank rel="noopener noreferrer" class=footer__link-item>Fanpage Kaesa Lyrih<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://twitter.com/lyrihkaesa target=_blank rel="noopener noreferrer" class=footer__link-item>Twitter<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>Komunitas</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.facebook.com/groups/kaesatoramonline target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook Kaesa Toram Online<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://discord.gg/z5GUceqyhB target=_blank rel="noopener noreferrer" class=footer__link-item>Discord Comunity<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>Lainnya</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/lyrihkaesa target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright Â© 2025 â€§ Build with ğŸ’— Kaesa Lyrih â€§ Templates by <a href=https://github.com/namnguyenthanhwork style="font-weight: bold;" target=_blank>ThÃ nh</a></div></div></div></footer></div>