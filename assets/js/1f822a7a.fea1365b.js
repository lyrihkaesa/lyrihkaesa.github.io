"use strict";(self.webpackChunkio_github_lyrihkaesa=self.webpackChunkio_github_lyrihkaesa||[]).push([["6945"],{36153:function(e,n,r){r.r(n),r.d(n,{default:()=>_,frontMatter:()=>l,metadata:()=>i,assets:()=>u,toc:()=>I,contentTitle:()=>t});var i=JSON.parse('{"id":"minio-laravel","title":"MinIO Laravel","description":"Konfigurasi Driver S3","source":"@site/articles/laravel/21-minio-laravel.md","sourceDirName":".","slug":"/minio-laravel","permalink":"/laravel/minio-laravel","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":21,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Breeze","permalink":"/laravel/breeze"},"next":{"title":"Laravel Filesystem local storage temporaryUrl()","permalink":"/laravel/laravel-filesystem-local-temporary-url"}}'),a=r("85893"),s=r("50065");let l={},t="MinIO Laravel",u={},I=[{value:"Konfigurasi Driver S3",id:"konfigurasi-driver-s3",level:2},{value:"Konfigurasi Driver S3 <code>MinIO</code> (By: Kaesa)",id:"konfigurasi-driver-s3-minio-by-kaesa",level:2}];function o(e){let n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"minio-laravel",children:"MinIO Laravel"})}),"\n",(0,a.jsx)(n.h2,{id:"konfigurasi-driver-s3",children:"Konfigurasi Driver S3"}),"\n",(0,a.jsxs)(n.p,{children:["Sebelum menggunakan driver ",(0,a.jsx)(n.code,{children:"s3"}),", Anda perlu install package ",(0,a.jsx)(n.code,{children:"Flysystem S3"})," melalui package manager ",(0,a.jsx)(n.code,{children:"Composer"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'composer require league/flysystem-aws-s3-v3 "^3.0" --with-all-dependencies\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Sebuah array konfigurasi disk S3 terletak di file konfigurasi ",(0,a.jsx)(n.code,{children:"config/filesystems.php"})," Anda. Secara umum, Anda seharusnya mengonfigurasi informasi dan credentials S3 Anda menggunakan ",(0,a.jsx)(n.code,{children:"environment variables"})," berikut yang dirujuk oleh file konfigurasi ",(0,a.jsx)(n.code,{children:"config/filesystems.php"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-env",children:"AWS_ACCESS_KEY_ID=<your-key-id>\r\nAWS_SECRET_ACCESS_KEY=<your-secret-access-key>\r\nAWS_DEFAULT_REGION=us-east-1\r\nAWS_BUCKET=<your-bucket-name>\r\nAWS_USE_PATH_STYLE_ENDPOINT=false\n"})}),"\n",(0,a.jsx)(n.p,{children:"Untuk kenyamanan, variabel lingkungan ini sesuai dengan konvensi penamaan yang digunakan oleh AWS CLI."}),"\n",(0,a.jsxs)(n.h2,{id:"konfigurasi-driver-s3-minio-by-kaesa",children:["Konfigurasi Driver S3 ",(0,a.jsx)(n.code,{children:"MinIO"})," (By: Kaesa)"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Pada config file ",(0,a.jsx)(n.code,{children:"config/filesystem.php"})," silahkan tambahkan ",(0,a.jsx)(n.code,{children:"minio"})," dan ",(0,a.jsx)(n.code,{children:"minio_public"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-php",children:"return [\r\n	// ... kode disembunyikan\r\n	'disks' => [\r\n			\r\n	        'local' => [\r\n	            // ... kode disembunyikan\r\n	        ],\r\n	        \r\n	        'public' => [\r\n	            // ... kode disembunyikan\r\n	        ],\r\n	        \r\n	        's3' => [\r\n	            // ... kode disembunyikan\r\n	        ],\r\n	\r\n	        // Minio Default (Privat)\r\n	        'minio' => [\r\n	            'driver' => 's3',\r\n	            'key' => env('MINIO_ACCESS_KEY_ID'),\r\n	            'secret' => env('MINIO_SECRET_ACCESS_KEY'),\r\n	            'region' => env('MINIO_DEFAULT_REGION'),\r\n	            'bucket' => env('MINIO_BUCKET'),\r\n	            'url' => env('MINIO_URL'),\r\n	            'endpoint' => env('MINIO_ENDPOINT'),\r\n	            'use_path_style_endpoint' => env('MINIO_USE_PATH_STYLE_ENDPOINT', true),\r\n	            'use_ssl' => env('MINIO_USE_SSL', false),\r\n	            'throw' => env('MINIO_THROW', env('APP_DEBUG', false)),\r\n	        ],\r\n	        \r\n	        'minio_public' => [\r\n	            'driver' => 's3',\r\n	            'key' => env('MINIO_PUBLIC_ACCESS_KEY_ID', env('MINIO_ACCESS_KEY_ID')),\r\n	            'secret' => env('MINIO_PUBLIC_SECRET_ACCESS_KEY', env('MINIO_SECRET_ACCESS_KEY')),\r\n	            'region' => env('MINIO_PUBLIC_DEFAULT_REGION', env('MINIO_DEFAULT_REGION')),\r\n	            'bucket' => env('MINIO_PUBLIC_BUCKET'),\r\n	            'url' => env('MINIO_PUBLIC_URL', env('MINIO_URL')),\r\n	            'endpoint' => env('MINIO_PUBLIC_ENDPOINT', env('MINIO_ENDPOINT')),\r\n	            'use_path_style_endpoint' => env('MINIO_PUBLIC_USE_PATH_STYLE_ENDPOINT', env('MINIO_USE_PATH_STYLE_ENDPOINT', true)),\r\n	            'use_ssl' => env('MINIO_PUBLIC_USE_SSL', env('MINIO_USE_SSL', false)),\r\n	            'throw' => env('MINIO_PUBLIC_THROW', env('MINIO_THROW', env('APP_DEBUG', false))),\r\n	        ],\r\n	    ],\r\n];\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["[Opsional] jika menggunakan paket filament ",(0,a.jsx)(n.code,{children:"config/filament.php"}),":"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-php",children:"return [\r\n	'default_filesystem_disk' => env('FILAMENT_FILESYSTEM_DISK', 'public'),\r\n];\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Lalu tambahkan ",(0,a.jsx)(n.code,{children:"key-value"})," pada ",(0,a.jsx)(n.code,{children:".env"})," seperti berikut:"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"versi sederhana"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-env",children:"# Konfigurasi default filesystems\r\nFILESYSTEM_DISK=minio # default: local\r\n\r\n# [Opsional] Konfigurasi default filesystems package filament\r\nFILAMENT_FILESYSTEM_DISK=minio_public #default: public\r\n\r\n# Konfigurasi untuk bucket MinIO privat\r\nMINIO_ACCESS_KEY_ID=<your-access-key-id>\r\nMINIO_SECRET_ACCESS_KEY=<your-secret-access-key>\r\nMINIO_DEFAULT_REGION=id-jkt-1-default # random\r\nMINIO_BUCKET=your-bucket-private\r\nMINIO_ENDPOINT=http://your-ip-address:9010 # default port minio: 9000\r\nMINIO_USE_PATH_STYLE_ENDPOINT=true\r\nMINIO_USE_SSL=false\r\n\r\n# Konfigurasi untuk bucket MinIO publik\r\nMINIO_PUBLIC_BUCKET=your-bucket-public\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"versi lengkap"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-env",children:"# Konfigurasi default filesystems\r\nFILESYSTEM_DISK=minio # default: local\r\n\r\n# [Opsional] Konfigurasi default filesystems package filament\r\nFILAMENT_FILESYSTEM_DISK=minio_public #default: public\r\n\r\n# Konfigurasi untuk bucket MinIO privat\r\nMINIO_ACCESS_KEY_ID=<your-access-key-id>\r\nMINIO_SECRET_ACCESS_KEY=<your-secret-access-key>\r\nMINIO_DEFAULT_REGION=id-jkt-1-default # random\r\nMINIO_BUCKET=your-bucket-private\r\nMINIO_URL=\r\nMINIO_ENDPOINT=http://your-ip-address:9010 # default port minio: 9000\r\nMINIO_USE_PATH_STYLE_ENDPOINT=true\r\nMINIO_USE_SSL=false\r\nMINIO_THROW=true\r\n\r\n# Konfigurasi untuk bucket MinIO publik\r\nMINIO_PUBLIC_ACCESS_KEY_ID=<your-access-key-id>\r\nMINIO_PUBLIC_SECRET_ACCESS_KEY=<your-secret-access-key>\r\nMINIO_PUBLIC_DEFAULT_REGION=id-jkt-1-default # random\r\nMINIO_PUBLIC_BUCKET=your-bucket-public\r\nMINIO_PUBLIC_URL=\r\nMINIO_PUBLIC_ENDPOINT=http://your-ip-address:9010 # default port minio: 9000\r\nMINIO_PUBLIC_USE_PATH_STYLE_ENDPOINT=true\r\nMINIO_PUBLIC_USE_SSL=false\r\nMINIO_PUBLIC_THROW=true\n"})})]})}function _(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},50065:function(e,n,r){r.d(n,{Z:function(){return t},a:function(){return l}});var i=r(67294);let a={},s=i.createContext(a);function l(e){let n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);