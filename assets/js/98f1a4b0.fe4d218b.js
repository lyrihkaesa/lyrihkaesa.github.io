"use strict";(self.webpackChunkio_github_lyrihkaesa=self.webpackChunkio_github_lyrihkaesa||[]).push([["7993"],{5539:function(e,r,n){n.r(r),n.d(r,{default:()=>u,frontMatter:()=>s,metadata:()=>a,assets:()=>o,toc:()=>p,contentTitle:()=>l});var a=JSON.parse('{"id":"api-versioning-v1-v2","title":"Api Versioning, v1, v2","description":"- app\\\\Providers\\\\RouteServiceProvider.php","source":"@site/articles/laravel/19-api-versioning-v1-v2.md","sourceDirName":".","slug":"/api-versioning-v1-v2","permalink":"/laravel/api-versioning-v1-v2","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":19,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Filament Full Calendar and Google Calendar","permalink":"/laravel/filament-full-calendar-and-google-calendar"},"next":{"title":"Breeze","permalink":"/laravel/breeze"}}'),i=n("85893"),t=n("50065");let s={},l="Api Versioning, v1, v2",o={},p=[{value:"Laravel 11",id:"laravel-11",level:2},{value:"Sumber",id:"sumber",level:2}];function d(e){let r={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",ul:"ul",...(0,t.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"api-versioning-v1-v2",children:"Api Versioning, v1, v2"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"app\\Providers\\RouteServiceProvider.php"})}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-php",children:"<?php\r\n\r\nnamespace App\\Providers;\r\n\r\nuse Illuminate\\Cache\\RateLimiting\\Limit;\r\nuse Illuminate\\Foundation\\Support\\Providers\\RouteServiceProvider as ServiceProvider;\r\nuse Illuminate\\Http\\Request;\r\nuse Illuminate\\Support\\Facades\\RateLimiter;\r\nuse Illuminate\\Support\\Facades\\Route;\r\n\r\nclass RouteServiceProvider extends ServiceProvider\r\n{\r\n    public const HOME = '/';\r\n\r\n    public function boot(): void\r\n    {\r\n        RateLimiter::for('api', function (Request $request) {\r\n            return Limit::perMinute(60)->by($request->user()?->id ?: $request->ip());\r\n        });\r\n\r\n        $this->routes(function () {\r\n            Route::middleware('api')\r\n                // ->prefix('api')\r\n                // ->group(base_path('routes/api.php'));\r\n                ->prefix('api/v1')\r\n                ->group(base_path('routes/api_v1.php'));\r\n\r\n			// Tambahkan versi api disini:\r\n            Route::middleware('api')\r\n                ->prefix('api/v2')\r\n                ->group(base_path('routes/api_v2.php'));\r\n                \r\n            Route::middleware('web')\r\n                ->group(base_path('routes/web.php'));\r\n        });\r\n    }\r\n}\n"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"php artisan make:controller Api/V1/ProjectController\n"})}),"\n",(0,i.jsx)(r.h2,{id:"laravel-11",children:"Laravel 11"}),"\n",(0,i.jsx)(r.h2,{id:"sumber",children:"Sumber"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Laravel 11:","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"https://www.youtube.com/watch?v=Tl_BbMDg-2o",children:"https://www.youtube.com/watch?v=Tl_BbMDg-2o"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"https://medium.com/@laravelprotips/understanding-laravel-api-versioning-the-basics-of-v1-v2-db3fdd3067bc",children:"https://medium.com/@laravelprotips/understanding-laravel-api-versioning-the-basics-of-v1-v2-db3fdd3067bc"})}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-json",children:'{\r\n  "message": "List todo berhasil diambil",\r\n  "data": [\r\n    {\r\n      "id": 1,\r\n      "title": "Review kontrak klien",\r\n      "description": "Periksa pasal pembayaran dan termin",\r\n      "category": "urgent",\r\n      "status": "pending_approval",\r\n      "created_by": {\r\n        "id": 3,\r\n        "name": "John Doe",\r\n        "role": "Level 3"\r\n      },\r\n      "approvals": [\r\n        {\r\n          "level": 4,\r\n          "status": "pending",\r\n          "approver": {\r\n            "id": 5,\r\n            "name": "Sarah Manager"\r\n          }\r\n        }\r\n      ],\r\n      "permissions": {\r\n        "can_edit": true,\r\n        "can_delete": true,\r\n        "can_approve": false,\r\n        "can_publish": false\r\n      },\r\n      "links": {\r\n        "self": "/api/todos/1",\r\n        "approve": "/api/todos/1/approve",\r\n        "delete": "/api/todos/1"\r\n      }\r\n    },\r\n    {\r\n      "id": 2,\r\n      "title": "Siapkan laporan bulanan",\r\n      "description": "Kumpulkan data penjualan dan pemasukan",\r\n      "category": "normal",\r\n      "status": "approved",\r\n      "created_by": {\r\n        "id": 4,\r\n        "name": "Jane Smith",\r\n        "role": "Level 2"\r\n      },\r\n      "approvals": [\r\n        {\r\n          "level": 3,\r\n          "status": "approved",\r\n          "approver": {\r\n            "id": 6,\r\n            "name": "Mark Supervisor"\r\n          }\r\n        }\r\n      ],\r\n      "permissions": {\r\n        "can_edit": false,\r\n        "can_delete": false,\r\n        "can_approve": true,\r\n        "can_publish": true\r\n      },\r\n      "links": {\r\n        "self": "/api/todos/2",\r\n        "approve": "/api/todos/2/approve",\r\n        "delete": "/api/todos/2"\r\n      }\r\n    }\r\n  ],\r\n  "meta": {\r\n    "pagination": {\r\n      "current_page": 1,\r\n      "total_pages": 3,\r\n      "per_page": 15,\r\n      "total_items": 35\r\n    },\r\n    "permissions": {\r\n      "can_create_todo": true\r\n    }\r\n  }\r\n}\n'})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-json",children:'{\r\n  "message": "Terjadi kesalahan: Data tidak valid",\r\n  "errors": {\r\n    "title": [\r\n	    "Field title wajib diisi."\r\n	],\r\n    "description": [\r\n	    "Field description minimal 10 karakter."\r\n	]\r\n  }\r\n}\n'})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-json",children:'{\r\n  "message": "Internal server error",\r\n  "errors": null\r\n}\n'})})]})}function u(e={}){let{wrapper:r}={...(0,t.a)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},50065:function(e,r,n){n.d(r,{Z:function(){return l},a:function(){return s}});var a=n(67294);let i={},t=a.createContext(i);function s(e){let r=a.useContext(t);return a.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),a.createElement(t.Provider,{value:r},e.children)}}}]);