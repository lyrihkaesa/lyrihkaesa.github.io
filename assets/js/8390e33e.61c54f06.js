"use strict";(self.webpackChunkio_github_lyrihkaesa=self.webpackChunkio_github_lyrihkaesa||[]).push([["8577"],{85573:function(e,n,a){a.r(n),a.d(n,{default:()=>p,frontMatter:()=>i,metadata:()=>r,assets:()=>l,toc:()=>o,contentTitle:()=>s});var r=JSON.parse('{"id":"2023/2023-11-14","title":"2023-11-14","description":"php artisan migrateseed --class=AcademicYearSeeder && php artisan dbseed --class=ProductSeeder","source":"@site/articles/journal/2023/2023-11-14.md","sourceDirName":"2023","slug":"/2023/2023-11-14","permalink":"/journal/2023/2023-11-14","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Bimbingan Karier","permalink":"/journal/2023/2023-11-11"},"next":{"title":"Perbaikan Laptop","permalink":"/journal/2023/2023-11-25"}}'),t=a("85893"),c=a("50065");let i={},s=void 0,l={},o=[];function d(e){let n={code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["php artisan migrate",":rollback"," && php artisan migrate && php artisan db",":seed"," --class=AcademicYearSeeder && php artisan db",":seed"," --class=SchoolSeeder && php artisan db",":seed"," --class=ProductSeeder"]}),"\n",(0,t.jsx)(n.p,{children:"Summarize RelationManager"}),"\n",(0,t.jsx)(n.p,{children:"Saya ingin menggunakan summarize filament pada table yang ada pada RelationManager, akan tetapi saya mendapatkan error"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-error",children:"SQLSTATE[42S21]: Column already exists: 1060 Duplicate column name 'id'\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Jika saya menghapus ",(0,t.jsx)(n.code,{children:"$table-id()"})," pada ",(0,t.jsx)(n.code,{children:"create_package_product_table.php"})," maka error berubah menjadi:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-error",children:"SQLSTATE[42S21]: Column already exists: 1060 Duplicate column name 'created_at'\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Jika saya menghapus ",(0,t.jsx)(n.code,{children:"$table->timestamps()"})," pada ",(0,t.jsx)(n.code,{children:"create_package_product_table.php"}),", summarize dapat digunakan."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Pivot table: ",(0,t.jsx)(n.code,{children:"create_package_product_table.php"})]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"  public function up(): void\r\n    {\r\n        Schema::create('package_product', function (Blueprint $table) {\r\n            $table->id();\r\n            $table->foreignId('package_id')->constrained()->cascadeOnDelete();\r\n            $table->foreignId('product_id')->constrained()->cascadeOnDelete();\r\n            $table->timestamps();\r\n        });\r\n    }\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Model ",(0,t.jsx)(n.code,{children:"Package.php"})]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:" public function products(): BelongsToMany\r\n    {\r\n        return $this->belongsToMany(Product::class, 'package_product')->withPivot('id')->withTimestamps();\r\n    }\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Model ",(0,t.jsx)(n.code,{children:"Product.php"})]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"public function packages(): BelongsToMany\r\n    {\r\n        return $this->belongsToMany(Package::class, 'package_product')->withPivot('id')->withTimestamps();\r\n    }\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"ProductResource.php"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"public static function table(Table $table): Table\r\n    {\r\n        return $table\r\n            ->columns([\r\n                TextColumn::make('name')->label('Nama'),\r\n                TextColumn::make('price')->label('Harga')->currency('IDR', true)->summarize(Sum::make()),\r\n            ])\r\n            ->filters([\r\n                //\r\n            ])\r\n            ->actions([\r\n                Tables\\Actions\\EditAction::make(),\r\n            ])\r\n            ->bulkActions([\r\n                Tables\\Actions\\BulkActionGroup::make([\r\n                    Tables\\Actions\\DeleteBulkAction::make(),\r\n                ]),\r\n            ]);\r\n    }\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ProductRelationManager.php"})," in ",(0,t.jsx)(n.code,{children:"PackageResource.php"})]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"public function table(Table $table): Table\r\n    {\r\n        return ProductResource::table($table)\r\n            ->headerActions([\r\n                Tables\\Actions\\AttachAction::make()->preloadRecordSelect(),\r\n            ])\r\n            ->actions([\r\n                Tables\\Actions\\DetachAction::make(),\r\n            ])\r\n            ->groupedBulkActions([\r\n                Tables\\Actions\\DetachBulkAction::make(),\r\n            ]);\r\n    }\n"})})]})}function p(e={}){let{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},50065:function(e,n,a){a.d(n,{Z:function(){return s},a:function(){return i}});var r=a(67294);let t={},c=r.createContext(t);function i(e){let n=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);