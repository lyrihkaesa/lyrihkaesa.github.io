"use strict";(self.webpackChunkio_github_lyrihkaesa=self.webpackChunkio_github_lyrihkaesa||[]).push([["2557"],{61245:function(e,n,a){a.r(n),a.d(n,{default:()=>t,frontMatter:()=>i,metadata:()=>s,assets:()=>c,toc:()=>h,contentTitle:()=>d});var s=JSON.parse('{"id":"linux/ubuntu","title":"Ubuntu","description":"Perintah Umum","source":"@site/articles/learning/02-linux/01-ubuntu.md","sourceDirName":"02-linux","slug":"/linux/ubuntu","permalink":"/learning/linux/ubuntu","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Linux","permalink":"/learning/category/linux"},"next":{"title":"CasaOS","permalink":"/learning/linux/casaos"}}'),l=a("85893"),r=a("50065");let i={},d="Ubuntu",c={},h=[{value:"Perintah Umum",id:"perintah-umum",level:2},{value:"<code>pwd</code> Print Working Directory",id:"pwd-print-working-directory",level:3},{value:"<code>whoami</code> Siapa Saya",id:"whoami-siapa-saya",level:3},{value:"Ganti Port SSH",id:"ganti-port-ssh",level:2},{value:"Mengecek port SSH",id:"mengecek-port-ssh",level:3},{value:"Mengecek status SSH",id:"mengecek-status-ssh",level:3},{value:"Mengganti port SSH",id:"mengganti-port-ssh",level:3},{value:"Masuk SSH dengan <code>Port 2200</code>",id:"masuk-ssh-dengan-port-2200",level:3},{value:"Konfigurasi SSH supaya tidak dapat diakses oleh user <code>root</code>",id:"konfigurasi-ssh-supaya-tidak-dapat-diakses-oleh-user-root",level:2},{value:"Tambah User",id:"tambah-user",level:2},{value:"Pindah User",id:"pindah-user",level:2},{value:"Memberi akses <code>sudoers</code> ke User baru",id:"memberi-akses-sudoers-ke-user-baru",level:2},{value:"Mengecek Group User",id:"mengecek-group-user",level:2},{value:"Keluar User",id:"keluar-user",level:2},{value:"Management Firewall <code>UFW</code>",id:"management-firewall-ufw",level:2},{value:"Mengecek Status <code>UFW</code>",id:"mengecek-status-ufw",level:3},{value:"Allow <code>SSH</code>",id:"allow-ssh",level:3},{value:"Allow <code>http</code>",id:"allow-http",level:3},{value:"Allow <code>https</code>",id:"allow-https",level:3},{value:"Opsi lain allow <code>http</code> dan <code>https</code>",id:"opsi-lain-allow-http-dan-https",level:3},{value:"Allow Aplikasi Lain Misal Port <code>8081</code>",id:"allow-aplikasi-lain-misal-port-8081",level:3},{value:"Mengecek Daftar APP",id:"mengecek-daftar-app",level:3},{value:"Aktifkan <code>UFW</code>",id:"aktifkan-ufw",level:3},{value:"Menonaktifkan <code>UFW</code>",id:"menonaktifkan-ufw",level:3},{value:"Mengaktifkan Ulang <code>UFW</code>",id:"mengaktifkan-ulang-ufw",level:3},{value:"Menghapus Rule <code>UFW</code>",id:"menghapus-rule-ufw",level:3},{value:"Ganti password",id:"ganti-password",level:2},{value:"Memasang <code>crul</code>",id:"memasang-crul",level:2},{value:"Memasang <code>PHP</code>",id:"memasang-php",level:2},{value:"Memasang <code>nvm</code>",id:"memasang-nvm",level:2},{value:"Memasang <code>Composer</code>",id:"memasang-composer",level:2},{value:"Memasang <code>nginx</code>",id:"memasang-nginx",level:2},{value:"Menghentikan Service Nginx",id:"menghentikan-service-nginx",level:3},{value:"Nonaktifkan Pengaturan Otomatis Menjalankan Nginx pada saat Startup",id:"nonaktifkan-pengaturan-otomatis-menjalankan-nginx-pada-saat-startup",level:3},{value:"Verifikasi Status Nginx",id:"verifikasi-status-nginx",level:3},{value:"Opsional: Hapus Konfigurasi",id:"opsional-hapus-konfigurasi",level:3},{value:"Melihat Semua User Ubuntu",id:"melihat-semua-user-ubuntu",level:2},{value:"Mengganti Password",id:"mengganti-password",level:2},{value:"Laravel Issue",id:"laravel-issue",level:2},{value:"Fail2Ban",id:"fail2ban",level:2}];function o(e){let n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"ubuntu",children:"Ubuntu"})}),"\n",(0,l.jsx)(n.h2,{id:"perintah-umum",children:"Perintah Umum"}),"\n",(0,l.jsxs)(n.h3,{id:"pwd-print-working-directory",children:[(0,l.jsx)(n.code,{children:"pwd"})," Print Working Directory"]}),"\n",(0,l.jsx)(n.p,{children:"Ini adalah perintah untuk mengetahui directory/folder tempat kerja sekarang."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"pwd\n"})}),"\n",(0,l.jsxs)(n.h3,{id:"whoami-siapa-saya",children:[(0,l.jsx)(n.code,{children:"whoami"})," Siapa Saya"]}),"\n",(0,l.jsx)(n.p,{children:"Perintah ini digunakan untuk mengetahui user yang digunakan saat ini."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"whoami\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"ganti-port-ssh",children:"Ganti Port SSH"}),"\n",(0,l.jsx)(n.h3,{id:"mengecek-port-ssh",children:"Mengecek port SSH"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo ss -tulpn | grep ssh\n"})}),"\n",(0,l.jsx)(n.h3,{id:"mengecek-status-ssh",children:"Mengecek status SSH"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo systemctl status ssh\n"})}),"\n",(0,l.jsx)(n.h3,{id:"mengganti-port-ssh",children:"Mengganti port SSH"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo nano /etc/ssh/sshd_config\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Hapus ",(0,l.jsx)(n.code,{children:"#"})," lalu ubah tulisan ",(0,l.jsx)(n.code,{children:"Port 22"})," menjadi ",(0,l.jsx)(n.code,{children:"Port 2200"})]}),"\n",(0,l.jsxs)(n.li,{children:["Tanpa menghapus default tulisan ",(0,l.jsx)(n.code,{children:"#Port 22"})," dengan cara Enter tambahkan tulisan ",(0,l.jsx)(n.code,{children:"Port 2200"})]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sshd_config",children:"#...\r\n\r\nInclude /etc/ssh/sshd_config.d/*.conf\r\n\r\n#Port 22\r\nPort 2200 # <- TAMBAHKAN INI\r\n#AddressFamily any\r\n#ListenAddress 0.0.0.0\r\n#ListenAddress ::\r\n\r\n#...\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Setelah selesai ",(0,l.jsx)(n.code,{children:"reboot"}),"  VPS ubuntu Anda."]}),"\n",(0,l.jsxs)(n.h3,{id:"masuk-ssh-dengan-port-2200",children:["Masuk SSH dengan ",(0,l.jsx)(n.code,{children:"Port 2200"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"ssh kaesa@100.100.100.100 -p 2200\n"})}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Nama"}),(0,l.jsx)(n.th,{children:"Keterangan"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ssh"})}),(0,l.jsx)(n.td,{children:"Aplikasi SSH Client Terminal"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"kaesa"})}),(0,l.jsx)(n.td,{children:"Username Anda"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"100.100.100.100"})}),(0,l.jsx)(n.td,{children:"IP Address VPS Ubuntu Anda"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"-p"})}),(0,l.jsx)(n.td,{children:"PORT (Argument)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"2200"})}),(0,l.jsx)(n.td,{children:"Port SSH yang telah Anda rubah"})]})]})]}),"\n",(0,l.jsxs)(n.h2,{id:"konfigurasi-ssh-supaya-tidak-dapat-diakses-oleh-user-root",children:["Konfigurasi SSH supaya tidak dapat diakses oleh user ",(0,l.jsx)(n.code,{children:"root"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo nano /etc/ssh/sshd_config\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Ubah ",(0,l.jsx)(n.code,{children:"PremitRootLogin yes"})," menjadi ",(0,l.jsx)(n.code,{children:"PremitRootLogin no"})," ."]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sshd_config",children:"#...\r\n\r\n# Example of overriding settings on a per-user basis\r\n#Match User anoncvs\r\n#	X11Forwading no\r\n#	AllowTcpForwarding no\r\n#	PermitTTY no\r\n#	ForceCommand no\r\nPremitRootLogin no # Default `yes`\r\n\r\n#...\n"})}),"\n",(0,l.jsx)(n.h2,{id:"tambah-user",children:"Tambah User"}),"\n",(0,l.jsxs)(n.p,{children:["Jika ada error: ",(0,l.jsx)(n.code,{children:"fatal: Only root may add a user or group to the system"})," silahkan ganti ke user ",(0,l.jsx)(n.code,{children:"root"})," dahulu dengan perintah:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo su\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"adduser kaesa\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Adding user `kaesa` ...\r\nAdding new group `kaesa` (1001) ...\r\nAdding new user `kaesa` (1001) with group `kaesa` ...\r\nCreating home directory `/home/kaesa` ...\r\nCopying file from `/etc/skel` ...\r\n\r\nNew password: # Masukan Password \r\nRetype new password: # Ketik ulang password diatas\r\n\r\npasswd: password updated successfully\r\nChanging the user information for kaesa\r\nEnter the new value, or press Enter for the default\r\n	Full Name []: Kaesa Lyrih # Ketik `Kaesa Lyrih` lalu Enter\r\n	Room Number []: # Enter\r\n	Work Phone []: # Enter\r\n	Home Phone []: # Enter\r\n	Other []: # Enter\r\nIs the information corrent? [Y/n] Y # Karena kapital Y berarti default `Y` alias Yes\r\ninfo: Adding new user `kaesa` to supplemental / extra groups `users` ...\r\ninfo: Adding user `kaesa` to group `users` ...\n"})}),"\n",(0,l.jsx)(n.h2,{id:"pindah-user",children:"Pindah User"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"su - kaesa\n"})}),"\n",(0,l.jsxs)(n.h2,{id:"memberi-akses-sudoers-ke-user-baru",children:["Memberi akses ",(0,l.jsx)(n.code,{children:"sudoers"})," ke User baru"]}),"\n",(0,l.jsxs)(n.p,{children:["Pastikan anda menggunakan user ",(0,l.jsx)(n.code,{children:"root"})," lalu ketik perintah berikut:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"usermod -aG sudo kaesa\n"})}),"\n",(0,l.jsx)(n.h2,{id:"mengecek-group-user",children:"Mengecek Group User"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"group\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-txt",children:"kaesa users wheel sudo\n"})}),"\n",(0,l.jsx)(n.h2,{id:"keluar-user",children:"Keluar User"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"exit\n"})}),"\n",(0,l.jsxs)(n.h2,{id:"management-firewall-ufw",children:["Management Firewall ",(0,l.jsx)(n.code,{children:"UFW"})]}),"\n",(0,l.jsxs)(n.h3,{id:"mengecek-status-ufw",children:["Mengecek Status ",(0,l.jsx)(n.code,{children:"UFW"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo ufw status\n"})}),"\n",(0,l.jsx)(n.p,{children:"Pengecekan Status Lengkap"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo ufw status verbose\n"})}),"\n",(0,l.jsxs)(n.h3,{id:"allow-ssh",children:["Allow ",(0,l.jsx)(n.code,{children:"SSH"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo ufw allow 22/tcp\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Jika sudah diganti port ",(0,l.jsx)(n.code,{children:"ssh"})," dari ",(0,l.jsx)(n.code,{children:"22"})," menjadi ",(0,l.jsx)(n.code,{children:"2200"})," maka perintahnya berikut:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo ufw allow 2200/tcp\n"})}),"\n",(0,l.jsxs)(n.h3,{id:"allow-http",children:["Allow ",(0,l.jsx)(n.code,{children:"http"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo ufw allow http\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo ufw allow 80\n"})}),"\n",(0,l.jsxs)(n.h3,{id:"allow-https",children:["Allow ",(0,l.jsx)(n.code,{children:"https"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo ufw allow https\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo ufw allow 443\n"})}),"\n",(0,l.jsxs)(n.h3,{id:"opsi-lain-allow-http-dan-https",children:["Opsi lain allow ",(0,l.jsx)(n.code,{children:"http"})," dan ",(0,l.jsx)(n.code,{children:"https"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo ufw allow 'Apache Full'\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo ufw allow 'Nginx Full'\n"})}),"\n",(0,l.jsxs)(n.h3,{id:"allow-aplikasi-lain-misal-port-8081",children:["Allow Aplikasi Lain Misal Port ",(0,l.jsx)(n.code,{children:"8081"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo ufw allow 8081\n"})}),"\n",(0,l.jsx)(n.h3,{id:"mengecek-daftar-app",children:"Mengecek Daftar APP"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo ufw app list\n"})}),"\n",(0,l.jsxs)(n.h3,{id:"aktifkan-ufw",children:["Aktifkan ",(0,l.jsx)(n.code,{children:"UFW"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo ufw enable\n"})}),"\n",(0,l.jsxs)(n.h3,{id:"menonaktifkan-ufw",children:["Menonaktifkan ",(0,l.jsx)(n.code,{children:"UFW"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo ufw disable\n"})}),"\n",(0,l.jsxs)(n.h3,{id:"mengaktifkan-ulang-ufw",children:["Mengaktifkan Ulang ",(0,l.jsx)(n.code,{children:"UFW"})]}),"\n",(0,l.jsx)(n.p,{children:"Jika beberapa pengaturan belum berfungsi jangan lupa melakukan reload."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo ufw reload\n"})}),"\n",(0,l.jsxs)(n.h3,{id:"menghapus-rule-ufw",children:["Menghapus Rule ",(0,l.jsx)(n.code,{children:"UFW"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo ufw status numbered\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo ufw delete 2\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo ufw delete allow http\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo ufw delete allow 'Nginx Full'\n"})}),"\n",(0,l.jsx)(n.h2,{id:"ganti-password",children:"Ganti password"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"passwd kaesa #enter\r\n# passwod sekarang\r\n# new password\r\n# confirm password\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.h2,{id:"memasang-crul",children:["Memasang ",(0,l.jsx)(n.code,{children:"crul"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo apt install curl\n"})}),"\n",(0,l.jsxs)(n.h2,{id:"memasang-php",children:["Memasang ",(0,l.jsx)(n.code,{children:"PHP"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo add-apt-repository ppa:ondrej/php -y\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo apt search php8.3 | more\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo apt install php8.3 php8.3-cli php8.3-common php8.3-curl php8.3-pgsql php8.3-fpm php8.3-gd php8.3-imap php8.3-intl php8.3-mbstring php8.3-mysql php8.3-opcache php8.3-readline php8.3-soap php8.3-xml php8.3-zip php8.3-sqlite3\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"php -v\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.h2,{id:"memasang-nvm",children:["Memasang ",(0,l.jsx)(n.code,{children:"nvm"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo apt update\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd ~\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo su\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"source ~/.bashrc\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"nvm list-remote\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"nvm install --lts\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.h2,{id:"memasang-composer",children:["Memasang ",(0,l.jsx)(n.code,{children:"Composer"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo apt update\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd ~\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"curl -sS https://getcomposer.org/installer -o /tmp/composer-setup.php\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"HASH=`curl -sS https://composer.github.io/installer.sig`\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"php -r \"if (hash_file('SHA384', '/tmp/composer-setup.php') === '$HASH') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;\"\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo php /tmp/composer-setup.php --install-dir=/usr/local/bin --filename=composer\n"})}),"\n",(0,l.jsxs)(n.h2,{id:"memasang-nginx",children:["Memasang ",(0,l.jsx)(n.code,{children:"nginx"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo apt install nginx\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo systemctl status nginx\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd /etc/nginx\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd sites-available\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo nano default\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Ubah yang semula ",(0,l.jsx)(n.code,{children:"listen 80"})," menjadi ",(0,l.jsx)(n.code,{children:"listen 8080"})," seperti berikut:"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-conf",children:"# ...\r\nserver {\r\n	listen 8080 default_server;\r\n	listen [::]:8080 default_server;\r\n	\r\n	# ...\r\n}\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Save: ",(0,l.jsx)(n.code,{children:"CTRL + X"})," > ",(0,l.jsx)(n.code,{children:"Y"})]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo nano charapon.conf\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-conf",children:'server {\r\n    listen 8081;\r\n    listen [::]:8081;\r\n    server_name charapon.my.id;\r\n    root /var/www/pondokmbodo/public;\r\n \r\n    # add_header X-Frame-Options "SAMEORIGIN";\r\n    # add_header X-Content-Type-Options "nosniff";\r\n \r\n    index index.html index.php;\r\n \r\n    charset utf-8;\r\n \r\n    location / {\r\n        try_files $uri $uri/ /index.php?$query_string;\r\n    }\r\n \r\n    # location = /favicon.ico { access_log off; log_not_found off; }\r\n    # location = /robots.txt  { access_log off; log_not_found off; }\r\n \r\n    error_page 404 /index.php;\r\n \r\n    location ~ \\.php$ {\r\n        fastcgi_pass unix:/var/run/php/php8.3-fpm.sock;\r\n        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;\r\n        include fastcgi_params;\r\n    }\r\n \r\n    location ~ /\\.(?!well-known).* {\r\n        deny all;\r\n    }\r\n}\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd ..\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd sites-enabled\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo ln -s /etc/nginx/sites-available/charapon.conf /etc/nginx/sites-enabled/\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo nginx -t\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo systemctl reload nginx\n"})}),"\n",(0,l.jsx)(n.h3,{id:"menghentikan-service-nginx",children:"Menghentikan Service Nginx"}),"\n",(0,l.jsx)(n.p,{children:"Jalankan perintah berikut untuk mematikan layanan Nginx:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo systemctl stop nginx\n"})}),"\n",(0,l.jsx)(n.p,{children:"Perintah ini akan menghentikan layanan Nginx yang sedang berjalan."}),"\n",(0,l.jsx)(n.h3,{id:"nonaktifkan-pengaturan-otomatis-menjalankan-nginx-pada-saat-startup",children:"Nonaktifkan Pengaturan Otomatis Menjalankan Nginx pada saat Startup"}),"\n",(0,l.jsx)(n.p,{children:"Untuk mencegah Nginx dari memulai secara otomatis setiap kali sistem reboot, jalankan perintah berikut:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo systemctl disable nginx\n"})}),"\n",(0,l.jsx)(n.p,{children:"Dengan melakukan ini, Nginx tidak akan dijalankan secara otomatis saat sistem boot."}),"\n",(0,l.jsx)(n.h3,{id:"verifikasi-status-nginx",children:"Verifikasi Status Nginx"}),"\n",(0,l.jsx)(n.p,{children:"Untuk memastikan bahwa Nginx telah dimatikan dan dinonaktifkan, Anda dapat memeriksa status layanan:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo systemctl status nginx\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Pastikan statusnya menunjukkan bahwa layanan telah dimatikan (",(0,l.jsx)(n.code,{children:"inactive"}),") dan dinonaktifkan (",(0,l.jsx)(n.code,{children:"disabled"}),")."]}),"\n",(0,l.jsx)(n.h3,{id:"opsional-hapus-konfigurasi",children:"Opsional: Hapus Konfigurasi"}),"\n",(0,l.jsx)(n.p,{children:"Jika Anda tidak berencana untuk menggunakan Nginx lagi, Anda dapat menghapus paket Nginx dari sistem Anda. Namun, pastikan untuk mempertimbangkan dampaknya terhadap aplikasi atau layanan lain yang bergantung pada Nginx."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo apt remove nginx\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Atau, jika Anda ingin menjaga paket Nginx tetapi tidak menjalankannya secara otomatis, Anda dapat menggunakan perintah ",(0,l.jsx)(n.code,{children:"apt-mark"}),' untuk menandainya sebagai "manual", sehingga tidak akan dihapus secara otomatis oleh manajer paket:']}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo apt-mark manual nginx\n"})}),"\n",(0,l.jsx)(n.p,{children:"Dengan ini, Nginx akan tetap diinstal tetapi tidak akan dijalankan secara otomatis pada startup."}),"\n",(0,l.jsx)(n.p,{children:"Dengan langkah-langkah di atas, Anda telah mematikan layanan Nginx dan menonaktifkan pengaturan otomatis pada startup."}),"\n",(0,l.jsx)(n.h2,{id:"melihat-semua-user-ubuntu",children:"Melihat Semua User Ubuntu"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cat /etc/passwd\n"})}),"\n",(0,l.jsx)(n.h2,{id:"mengganti-password",children:"Mengganti Password"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo passwd pondokmbodo\n"})}),"\n",(0,l.jsx)(n.h2,{id:"laravel-issue",children:"Laravel Issue"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"sudo chown -R $USER:www-data storage\r\nsudo chown -R $USER:www-data bootstrap/cache\r\nsudo chmod -R 775 storage\r\nsudo chmod -R 775 bootstrap/cache\n"})}),"\n",(0,l.jsx)(n.h2,{id:"fail2ban",children:"Fail2Ban"}),"\n",(0,l.jsxs)(n.p,{children:["Digunakan untuk ban IP yang melakukan serangan ",(0,l.jsx)(n.code,{children:"brute force"}),"."]}),"\n",(0,l.jsxs)(n.p,{children:["Pengecekan log ",(0,l.jsx)(n.code,{children:"auth"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo tail -f /var/log/auth.log\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'sudo cat -f /var/log/auth.log | grep "invalid user"\n'})}),"\n",(0,l.jsx)(n.p,{children:"Perbarui repository package ubuntu:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo apt update\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo apt install fail2ban -y\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo cd /etc/fail2ban\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo jail.conf jail.local\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo nano jail.local\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-jail.local",children:'# ...\r\n# [DEFAULT]\r\n# bantime = 1h\r\n# \r\n\r\n[sshd]\r\nenabled = true\r\nport = 2233\r\nfilter = sshd\r\nlogpath = /var/log/auth.log\r\nbantime = 360m\r\nfindtime = 360m\r\nmaxretry = 3\r\n\r\n# \r\n# See jail.conf(5) man page for more information\r\n\r\n# ...\r\n\r\n# \r\n# SSH servers\r\n# \r\n\r\n#[sshd]\r\n\r\n# To use more aggresive sshd mode set filter parameter "mode" in jail.local\r\n# normal (default), ddos, extra or aggresive (combines all).\r\n# See "test/file/logs/sshd or "filter.d/sshd.conf" for usage example details.\r\n#mode = normal\r\n#port = ssh\r\n#logpath = %(sshd_log)s\r\n#backend = %(sshd_backend)s\r\n\r\n[dropbear]\r\n\r\n# ...\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo systemctl restart fail2ban\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo systemctl enable fail2ban\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo systemctl status fail2ban\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"fail2ban-client status sshd\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"watch fail2ban-client status sshd\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"iptables -t filter -nvL\n"})})]})}function t(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},50065:function(e,n,a){a.d(n,{Z:function(){return d},a:function(){return i}});var s=a(67294);let l={},r=s.createContext(l);function i(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);