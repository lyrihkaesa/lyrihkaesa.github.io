"use strict";(self.webpackChunkio_github_lyrihkaesa=self.webpackChunkio_github_lyrihkaesa||[]).push([["7461"],{63845:function(e,n,a){a.r(n),a.d(n,{default:()=>o,frontMatter:()=>l,metadata:()=>i,assets:()=>t,toc:()=>c,contentTitle:()=>d});var i=JSON.parse('{"id":"filament-v3-plugin-bezhansalleh-filament-shield","title":"Plugin Filament Shield","description":"- bezhansalleh/filament-shield","source":"@site/articles/laravel/15-filament-v3-plugin-bezhansalleh-filament-shield.md","sourceDirName":".","slug":"/filament-v3-plugin-bezhansalleh-filament-shield","permalink":"/laravel/filament-v3-plugin-bezhansalleh-filament-shield","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":15,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Laravel PDF","permalink":"/laravel/laravel-pdf"},"next":{"title":"Laravel Blade Template","permalink":"/laravel/laravel-blade-template"}}'),s=a("85893"),r=a("50065");let l={},d="Plugin Filament Shield",t={},c=[{value:"Instalasi",id:"instalasi",level:2},{value:"Filament Panel",id:"filament-panel",level:2},{value:"Akses Panel",id:"akses-panel",level:3},{value:"Resources",id:"resources",level:3},{value:"Default",id:"default",level:4},{value:"Custom Permission",id:"custom-permission",level:4},{value:"Configure Permission Identifier",id:"configure-permission-identifier",level:4},{value:"Custom Navigation Group",id:"custom-navigation-group",level:4},{value:"Pages",id:"pages",level:3},{value:"Pages Hooks",id:"pages-hooks",level:4},{value:"Pages Redirect Path",id:"pages-redirect-path",level:4},{value:"Widget",id:"widget",level:4},{value:"Policies",id:"policies",level:3},{value:"Role Policy",id:"role-policy",level:4},{value:"Policy Path",id:"policy-path",level:4},{value:"Custom folder structure for Models or Third-Party Plugins",id:"custom-folder-structure-for-models-or-third-party-plugins",level:4},{value:"Users (Assigning Roles to Users)",id:"users-assigning-roles-to-users",level:4},{value:"Layout Customization",id:"layout-customization",level:4},{value:"Translations",id:"translations",level:4},{value:"Available Filament Shield Commands",id:"available-filament-shield-commands",level:2},{value:"<code>shield:doctor</code>",id:"shielddoctor",level:3},{value:"<code>shield:install</code>",id:"shieldinstall",level:3},{value:"<code>shield:generate</code>",id:"shieldgenerate",level:3},{value:"<code>shield:super-admin</code>",id:"shieldsuper-admin",level:3},{value:"<code>shield:publish</code>",id:"shieldpublish",level:3},{value:"<code>shield:seeder</code>",id:"shieldseeder",level:3}];function h(e){let n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"plugin-filament-shield",children:"Plugin Filament Shield"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"bezhansalleh/filament-shield"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Plugin Filament Shield merupakan cara paling mudah dan intuitif untuk menambahkan manajemen akses ke Filament Admin Anda dengan fitur-fitur berikut:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\uD83D\uDD25 Sumber daya (Resources)"}),"\n",(0,s.jsx)(n.li,{children:"\uD83D\uDD25Halaman (Pages)"}),"\n",(0,s.jsx)(n.li,{children:"\uD83D\uDD25Widgets"}),"\n",(0,s.jsx)(n.li,{children:"\uD83D\uDD25Custom Permissions"}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Untuk penggunaan Filament versi 2.x, gunakan branch 2.x."}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Sebelum versi ",(0,s.jsx)(n.code,{children:"3.1.0"}),", Shield mendukung spatie/laravel-permission:",(0,s.jsx)(n.code,{children:"^5.0"}),", dan sekarang mendukung versi ",(0,s.jsx)(n.code,{children:"^6.0"}),". Pergantian versi ini memiliki perubahan yang signifikan terkait migrasi. Jika Anda meng-upgrade dari versi sebelum ",(0,s.jsx)(n.code,{children:"v3.1.0"}),", pastikan untuk menghapus file migrasi lama dan menerbitkan yang baru."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"instalasi",children:"Instalasi"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Pasang plugin melalui composer:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"composer require bezhansalleh/filament-shield\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["Tambahkan trait ",(0,s.jsx)(n.code,{children:"Spatie\\Permission\\Traits\\HasRoles"})," ke model ",(0,s.jsx)(n.code,{children:"User"})," Anda:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"use Illuminate\\Foundation\\Auth\\User as Authenticatable;\r\nuse Spatie\\Permission\\Traits\\HasRoles;\r\n\r\nclass User extends Authenticatable\r\n{\r\n    use HasRoles;\r\n    // ...\r\n}\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsxs)(n.li,{children:["Publish file ",(0,s.jsx)(n.code,{children:"config"})," kemudian atur konfigurasi Anda:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"php artisan vendor:publish --tag=filament-shield-config\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"Daftarkan plugin untuk Panel Filament yang Anda inginkan:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"public function panel(Panel $panel): Panel\r\n{\r\n    return $panel\r\n        ->plugins([\r\n            \\BezhanSalleh\\FilamentShield\\FilamentShieldPlugin::make(),\r\n        ]);\r\n}\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"5",children:["\n",(0,s.jsx)(n.li,{children:"Sekarang jalankan perintah berikut untuk install Shield:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"php artisan shield:install\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"6",children:["\n",(0,s.jsx)(n.li,{children:"OPTIONAL: Translatable"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'php artisan vendor:publish --tag="filament-shield-translations"\n'})}),"\n",(0,s.jsx)(n.p,{children:"Ikuti petunjuk dan nikmati!"}),"\n",(0,s.jsx)(n.h2,{id:"filament-panel",children:"Filament Panel"}),"\n",(0,s.jsxs)(n.p,{children:["Jika Anda ingin mengaktifkan ",(0,s.jsx)(n.code,{children:"Shield"})," untuk lebih dari satu panel, Anda perlu mendaftarkan plugin untuk setiap panel seperti yang disebutkan di atas."]}),"\n",(0,s.jsx)(n.h3,{id:"akses-panel",children:"Akses Panel"}),"\n",(0,s.jsxs)(n.p,{children:["Shield dilengkapi dengan trait ",(0,s.jsx)(n.code,{children:"HasPanelShield"})," yang menyediakan cara mudah untuk mengintegrasikan konvensi Shield dengan sistem akses panel Filament."]}),"\n",(0,s.jsxs)(n.p,{children:["Trait ",(0,s.jsx)(n.code,{children:"HasPanelShield"})," memberikan implementasi untuk method ",(0,s.jsx)(n.code,{children:"canAccessPanel"}),", menentukan akses berdasarkan apakah pengguna memiliki role ",(0,s.jsx)(n.code,{children:"super_admin"})," atau role ",(0,s.jsx)(n.code,{children:"panel_user"}),". Ini juga menetapkan role ",(0,s.jsx)(n.code,{children:"panel_user"})," kepada pengguna saat pembuatan dan penghapusan. Tentu saja ",(0,s.jsx)(n.code,{children:"role-name"})," dapat diubah dari file konfigurasi plugin."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"use BezhanSalleh\\FilamentShield\\Traits\\HasPanelShield;\r\nuse Filament\\Models\\Contracts\\FilamentUser;\r\nuse Illuminate\\Foundation\\Auth\\User as Authenticatable;\r\nuse Spatie\\Permission\\Traits\\HasRoles;\r\n\r\nclass User extends Authenticatable implements FilamentUser\r\n{\r\n    use HasRoles;\r\n    use HasPanelShield;\r\n    // ...\r\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"resources",children:"Resources"}),"\n",(0,s.jsxs)(n.p,{children:["Secara umum, ada dua skenario yang ditangani Shield untuk resource ",(0,s.jsx)(n.code,{children:"permission"})," Filament Anda."]}),"\n",(0,s.jsx)(n.h4,{id:"default",children:"Default"}),"\n",(0,s.jsxs)(n.p,{children:["Secara default, Shield menangani ",(0,s.jsx)(n.code,{children:"permission"})," yang telah ditentukan sebelumnya untuk ",(0,s.jsx)(n.code,{children:"FilamentResource"}),". Jadi jika itu semua yang Anda butuh kan, Anda sudah siap. Jika Anda perlu menambahkan satu permission (misalnya ",(0,s.jsx)(n.code,{children:"lock"}),") dan memiliki permission tersebut tersedia untuk semua ",(0,s.jsx)(n.code,{children:"Resource"})," Anda, cukup tambahkan ke kunci ",(0,s.jsx)(n.code,{children:"config"})," berikut:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"    'permission_prefixes' => [\r\n        'resource' => [\r\n            'view',\r\n            'view_any',\r\n            'create',\r\n            'update',\r\n            'restore',\r\n            'restore_any',\r\n            'replicate',\r\n            'reorder',\r\n            'delete',\r\n            'delete_any',\r\n            'force_delete',\r\n            'force_delete_any',\r\n            'lock' // add here\r\n        ],\r\n        ...\r\n    ],\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Sekarang Anda berpikir, ",(0,s.jsxs)(n.strong,{children:['"bagaimana jika saya membutuhkan permission hanya tersedia untuk satu ',(0,s.jsx)(n.code,{children:"Resource"}),' saja?"']})," Jangan khawatir, di situlah ",(0,s.jsx)(n.strong,{children:"Custom Permission"})," masuk."]}),"\n",(0,s.jsx)(n.h4,{id:"custom-permission",children:"Custom Permission"}),"\n",(0,s.jsxs)(n.p,{children:["Untuk mendefinisikan custom permission per ",(0,s.jsx)(n.code,{children:"Resource"}),", ",(0,s.jsx)(n.code,{children:"Resource"})," Anda harus menerapkan contract ",(0,s.jsx)(n.code,{children:"HasShieldPermissions"}),". Contract ini memiliki method ",(0,s.jsx)(n.code,{children:"getPermissionPrefixes()"})," yang mengembalikan ",(0,s.jsx)(n.code,{children:"array"})," permission prefix untuk ",(0,s.jsx)(n.code,{children:"Resource"})," Anda."]}),"\n",(0,s.jsxs)(n.p,{children:["Misalnya, jika Anda memiliki ",(0,s.jsx)(n.code,{children:"PostResource"})," dan ingin beberapa permission yang telah ditentukan sebelumnya, ditambah permission baru bernama ",(0,s.jsx)(n.code,{children:"publish_posts"})," hanya tersedia untuk ",(0,s.jsx)(n.code,{children:"PostResource"})," saja."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"class PostResource extends Resource implements HasShieldPermissions\r\n{\r\n    ...\r\n\r\n    public static function getPermissionPrefixes(): array\r\n    {\r\n        return [\r\n            'view',\r\n            'view_any',\r\n            'create',\r\n            'update',\r\n            'delete',\r\n            'delete_any',\r\n            'publish' // look here\r\n        ];\r\n    }\r\n\r\n    ...\r\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Di contoh di atas, method ",(0,s.jsx)(n.code,{children:"getPermissionPrefixes()"})," mengembalikan ",(0,s.jsx)(n.code,{children:"permission-prefixes"})," yang dibutuhkan ",(0,s.jsx)(n.code,{children:"Shield"})," untuk generate permission."]}),"\n",(0,s.jsxs)(n.p,{children:["Sekarang, untuk memberlakukan permission ",(0,s.jsx)(n.code,{children:"publish_post"}),", buatlah method ",(0,s.jsx)(n.code,{children:"publish()"})," di class ",(0,s.jsx)(n.code,{children:"PostPolicy"})," Anda:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"class PostPolicy {\r\n	...\r\n	/**\r\n     * Determine whether the user can publish posts.\r\n     *\r\n     * @param  \\App\\Models\\User  $admin\r\n     * @return \\Illuminate\\Auth\\Access\\Response|bool\r\n     */\r\n	public function publish(User $user)\r\n	{\r\n	    return $user->can('publish_post');\r\n	}\r\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Catatan:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["prefix-nya ",(0,s.jsx)(n.code,{children:"publish"})," untuk resource untuk model ",(0,s.jsx)(n.code,{children:"Post"})," maka permission name menjadi ",(0,s.jsx)(n.code,{children:"pubish_post"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["karena prefix-nya ",(0,s.jsx)(n.code,{children:"publish"})," maka method pada ",(0,s.jsx)(n.code,{children:"PostPolicy"})," juga harus sama dengan prefix-nya yaitu ",(0,s.jsx)(n.code,{children:"publish"})," -> ",(0,s.jsx)(n.code,{children:"public function publish(User $user)"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Untuk membuat ",(0,s.jsx)(n.code,{children:"prefix translatable"})," (dapat diterjemahkan), publish terjemahan ",(0,s.jsx)(n.code,{children:"Shield"})," dan tambahkan prefix di dalam ",(0,s.jsx)(n.code,{children:"resource_permission_prefixes_labels"})," sebagai key dan terjemahan sebagai nilainya untuk bahasa yang Anda butuh kan."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"//lang/en/filament-shield.php\r\n'resource_permission_prefixes_labels' => [\r\n    'publish' => 'Publish'\r\n],\r\n//lang/id/filament-shield.php\r\n'resource_permission_prefixes_labels' => [\r\n    'publish' => 'Publikasi'\r\n],\n"})}),"\n",(0,s.jsx)(n.h4,{id:"configure-permission-identifier",children:"Configure Permission Identifier"}),"\n",(0,s.jsx)(n.p,{children:"Secara default, permission identifier (pengenal izin) dihasilkan sebagai berikut:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"Str::of($resource)\r\n    ->afterLast('Resources\\\\')\r\n    ->before('Resource')\r\n    ->replace('\\\\', '')\r\n    ->snake()\r\n    ->replace('_', '::');\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Jadi misalnya jika Anda memiliki ",(0,s.jsx)(n.code,{children:"Resource"})," seperti ",(0,s.jsx)(n.code,{children:"App\\Filament\\Resources\\Shop\\CategoryResource"}),", maka permission identifier-nya akan menjadi ",(0,s.jsx)(n.code,{children:"shop::category"})," dan kemudian akan diberi prefix dengan prefix yang Anda tetapkan atau yang default dengan shield."]}),"\n",(0,s.jsxs)(n.p,{children:["Jika Anda ingin mengubah perilaku default, Anda dapat memanggil static method ",(0,s.jsx)(n.code,{children:"configurePermissionIdentifierUsing()"})," di dalam method ",(0,s.jsx)(n.code,{children:"boot()"})," service provider, dimana Anda dapat menggunakan Closure untuk mengubah logika. Closure menerima class name ",(0,s.jsx)(n.code,{children:"Resource"})," yang sepenuhnya disebutkan sebagai ",(0,s.jsx)(n.code,{children:"$resource"})," yang memberi Anda kemampuan untuk mengakses property atau method apa pun yang didefinisikan dalam ",(0,s.jsx)(n.code,{children:"Resource"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Sebagai contoh, jika Anda ingin menggunakan nama model sebagai permission identifier, Anda dapat melakukannya seperti ini:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"use BezhanSalleh\\FilamentShield\\Facades\\FilamentShield;\r\n\r\nFilamentShield::configurePermissionIdentifierUsing(\r\n    fn($resource) => str($resource::getModel())\r\n        ->afterLast('\\\\')\r\n        ->lower()\r\n        ->toString()\r\n);\n"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Peringatan"}),"\r\nIngatlah bahwa memastikan keunikan permission identifier sekarang menjadi tanggung jawab Anda."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"custom-navigation-group",children:"Custom Navigation Group"}),"\n",(0,s.jsxs)(n.p,{children:["Secara default, terjemahan dalam bahasa Inggris me-render role dan permission di bawah 'Filament Shield'. Jika Anda ingin mengubah ini, pertama-tama publish ",(0,s.jsx)(n.a,{href:"https://github.com/bezhanSalleh/filament-shield#translations",children:"translations files"})," dan ubah lokalisasi relatif ke grup yang Anda inginkan, misalnya:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// 'nav.group' => 'Filament Shield', // default\r\n'nav.group' => 'User Management', // custom navigation group\n"})}),"\n",(0,s.jsx)(n.p,{children:"terapkan ini untuk setiap bahasa yang memiliki grup."}),"\n",(0,s.jsx)(n.h3,{id:"pages",children:"Pages"}),"\n",(0,s.jsxs)(n.p,{children:["Jika Anda telah generate permission untuk ",(0,s.jsx)(n.code,{children:"Pages"}),", Anda dapat mengubah navigasi halaman dari sidebar dan akses terbatas ke halaman tersebut. Anda dapat mengaturnya secara manual tetapi paket ini dilengkapi dengan trait ",(0,s.jsx)(n.code,{children:"HasPageShield"})," untuk mempercepat proses ini. Yang harus Anda lakukan hanyalah menggunakan trait dalam pages Anda:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"<?php\r\n\r\nnamespace App\\Filament\\Pages;\r\n\r\nuse ...;\r\nuse BezhanSalleh\\FilamentShield\\Traits\\HasPageShield;\r\n\r\nclass MyPage extends Page\r\n{\r\n    use HasPageShield;\r\n    ...\r\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"HasPageShield"})," menggunakan method ",(0,s.jsx)(n.code,{children:"booted"})," untuk memeriksa user permission dan memastikan untuk menjalankan method page ",(0,s.jsx)(n.code,{children:"booted"})," di parent page jika ada."]}),"\n",(0,s.jsx)(n.h4,{id:"pages-hooks",children:"Pages Hooks"}),"\n",(0,s.jsxs)(n.p,{children:["Namun jika Anda perlu melakukan beberapa method before (sebelum) dan after (setelah) method ",(0,s.jsx)(n.code,{children:"booted"})," Anda dapat mendeklarasikan method hooks berikut di Filament Page Anda."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"<?php\r\n\r\nnamespace App\\Filament\\Pages;\r\n\r\nuse ...;\r\nuse BezhanSalleh\\FilamentShield\\Traits\\HasPageShield;\r\n\r\nclass MyPage extends Page\r\n{\r\n    use HasPageShield;\r\n    ...\r\n\r\n    protected function beforeBooted : void() {\r\n        ...\r\n    }\r\n\r\n    protected function afterBooted : void() {\r\n        ...\r\n    }\r\n\r\n    /**\r\n     * Hooks untuk melakukan tindakan sebelum redirect jika pengguna\r\n     * tidak memiliki akses ke page.\r\n     * */\r\n    protected function beforeShieldRedirects : void() {\r\n        ...\r\n    }\r\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"pages-redirect-path",children:"Pages Redirect Path"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"HasPageShield"})," menggunakan value ",(0,s.jsx)(n.code,{children:"config('filament.path')"})," secara default untuk melakukan redirect shield. Jika Anda perlu overwrite redirect path, cukup tambahkan method berikut ke Page Anda:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"<?php\r\n\r\nnamespace App\\Filament\\Pages;\r\n\r\nuse ...;\r\nuse BezhanSalleh\\FilamentShield\\Traits\\HasPageShield;\r\n\r\nclass MyPage extends Page\r\n{\r\n    use HasPageShield;\r\n    ...\r\n\r\n    protected function getShieldRedirectPath(): string {\r\n        return '/'; // mengalihkan ke indeks root...\r\n    }\r\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"widget",children:"Widget"}),"\n",(0,s.jsxs)(n.p,{children:["Jika Anda telah generate permission untuk ",(0,s.jsx)(n.code,{children:"Widget"}),", Anda dapat mengalihkan state mereka berdasarkan user permission. Anda dapat mengaturnya secara manual tetapi paket ini dilengkapi dengan trait ",(0,s.jsx)(n.code,{children:"HasWidgetShield"})," untuk mempercepat proses ini. Yang harus Anda lakukan hanyalah menggunakan trait dalam widget Anda:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"<?php\r\n\r\nnamespace App\\Filament\\Widgets;\r\n\r\nuse ...;\r\nuse BezhanSalleh\\FilamentShield\\Traits\\HasWidgetShield;\r\n\r\nclass IncomeWidget extends LineChartWidget\r\n{\r\n    use HasWidgetShield;\r\n    ...\r\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"policies",children:"Policies"}),"\n",(0,s.jsx)(n.h4,{id:"role-policy",children:"Role Policy"}),"\n",(0,s.jsxs)(n.p,{children:["Untuk memastikan akses ",(0,s.jsx)(n.code,{children:"RoleResource"})," melalui ",(0,s.jsx)(n.code,{children:"RolePolicy"}),", Anda perlu menambahkan hal berikut ke ",(0,s.jsx)(n.code,{children:"AuthServiceProvider"})," Anda:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"//AuthServiceProvider.php\r\n...\r\nprotected $policies = [\r\n    'Spatie\\Permission\\Models\\Role' => 'App\\Policies\\RolePolicy',\r\n];\r\n...\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Anda dapat melewatinya jika Anda telah mengaktifkannya dari ",(0,s.jsx)(n.code,{children:"config"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// config/filament-shield.php\r\n...\r\n'register_role_policy' => [\r\n    'enabled' => true,\r\n],\r\n...\n"})}),"\n",(0,s.jsx)(n.h4,{id:"policy-path",children:"Policy Path"}),"\n",(0,s.jsxs)(n.p,{children:["Jika policy Anda tidak berada dalam directory ",(0,s.jsx)(n.code,{children:"Policies"})," default di ",(0,s.jsx)(n.code,{children:"app_path()"}),", Anda dapat mengubah nama directory-nya dalam file ",(0,s.jsx)(n.code,{children:"config"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// config/filament-shield.php\r\n...\r\n'generator' => [\r\n    'option' => 'policies_and_permissions',\r\n    'policy_directory' => 'Policies',\r\n],\r\n...\n"})}),"\n",(0,s.jsx)(n.h4,{id:"custom-folder-structure-for-models-or-third-party-plugins",children:"Custom folder structure for Models or Third-Party Plugins"}),"\n",(0,s.jsxs)(n.p,{children:["Shield juga generate policies dan permission untuk plugin pihak ketiga dan ",(0,s.jsx)(n.code,{children:"Model"})," dengan struktur folder kustom. Dan untuk memberlakukan policy yang dihasilkan, Anda perlu mendaftarkannya di ",(0,s.jsx)(n.code,{children:"AuthServiceProvider"})," aplikasi Anda:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"...\r\nclass AuthServiceProvider extends ServiceProvider\r\n{\r\n    ...\r\n    protected $policies = [\r\n        ...,\r\n        'App\\Models\\Blog\\Author' => 'App\\Policies\\Blog\\AuthorPolicy',\r\n        'Ramnzys\\FilamentEmailLog\\Models\\Email' => 'App\\Policies\\EmailPolicy'\r\n\r\n    ];\n"})}),"\n",(0,s.jsx)(n.h4,{id:"users-assigning-roles-to-users",children:"Users (Assigning Roles to Users)"}),"\n",(0,s.jsxs)(n.p,{children:["Shield tidak dilengkapi dengan cara untuk memberikan role kepada user Anda secara langsung, namun Anda dapat dengan mudah memberikan role kepada user Anda menggunakan komponen ",(0,s.jsx)(n.code,{children:"Select"})," atau ",(0,s.jsx)(n.code,{children:"CheckboxList"})," dari ",(0,s.jsx)(n.code,{children:"Forms"})," Filament. Di dalam form ",(0,s.jsx)(n.code,{children:"Resource"})," user Anda, tambahkan salah satu komponen ini dan konfigurasikan sesuai kebutuhan Anda."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// Using Select Component\r\nForms\\Components\\Select::make('roles')\r\n    ->relationship('roles', 'name')\r\n    ->multiple()\r\n    ->preload()\r\n    ->searchable()\r\n\r\n// Using CheckboxList Component\r\nForms\\Components\\CheckboxList::make('roles')\r\n    ->relationship('roles', 'name')\r\n    ->searchable()\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You can find out more about these components in the\xa0",(0,s.jsx)(n.a,{href:"https://filamentphp.com/docs/3.x/forms/installation",children:"Filament Docs"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://filamentphp.com/docs/3.x/forms/fields/select",children:"Select"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://filamentphp.com/docs/3.x/forms/fields/checkbox-list",children:"CheckboxList"})}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"layout-customization",children:"Layout Customization"}),"\n",(0,s.jsxs)(n.p,{children:["Anda dapat dengan mudah menyesuaikan ",(0,s.jsx)(n.code,{children:"Grid"}),", ",(0,s.jsx)(n.code,{children:"Section"}),", dan ",(0,s.jsx)(n.code,{children:"CheckboxList"}),"'s ",(0,s.jsx)(n.code,{children:"columns()"})," dan ",(0,s.jsx)(n.code,{children:"columnSpan()"})," tanpa publish ",(0,s.jsx)(n.code,{children:"Resource"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"use BezhanSalleh\\FilamentShield\\FilamentShieldPlugin;\r\n\r\npublic function panel(Panel $panel): Panel\r\n{\r\n        return $panel\r\n            ...\r\n            ...\r\n            ->plugins([\r\n                FilamentShieldPlugin::make()\r\n                    ->gridColumns([\r\n                        'default' => 1,\r\n                        'sm' => 2,\r\n                        'lg' => 3\r\n                    ])\r\n                    ->sectionColumnSpan(1)\r\n                    ->checkboxListColumns([\r\n                        'default' => 1,\r\n                        'sm' => 2,\r\n                        'lg' => 4,\r\n                    ])\r\n                    ->resourceCheckboxListColumns([\r\n                        'default' => 1,\r\n                        'sm' => 2,\r\n                    ]),\r\n            ]);\r\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"translations",children:"Translations"}),"\n",(0,s.jsx)(n.p,{children:"Publish terjemahan menggunakan:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'php artisan vendor:publish --tag="filament-shield-translations"\n'})}),"\n",(0,s.jsx)(n.h2,{id:"available-filament-shield-commands",children:"Available Filament Shield Commands"}),"\n",(0,s.jsx)(n.h3,{id:"shielddoctor",children:(0,s.jsx)(n.code,{children:"shield:doctor"})}),"\n",(0,s.jsx)(n.p,{children:"Menampilkan informasi berguna tentang Filament Shield."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"php artisan shield:doctor\n"})}),"\n",(0,s.jsx)(n.h3,{id:"shieldinstall",children:(0,s.jsx)(n.code,{children:"shield:install"})}),"\n",(0,s.jsx)(n.p,{children:"Atur Persyaratan Core Package dan Install Shield. Menerima flag berikut:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"flag"}),(0,s.jsx)(n.th,{children:"keterangan"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--fresh"})}),(0,s.jsx)(n.td,{children:"jalankan migrasi kembali"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--only"})}),(0,s.jsxs)(n.td,{children:["Hanya setup shield tanpa generating permission dan membuat ",(0,s.jsx)(n.code,{children:"super-admin"})]})]})]})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"php artisan shield:install\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# jalankan migrasi kembali\r\nphp artisan shield:install --fresh\r\n# Hanya setup shield tanpa generating permission dan membuat `super-admin`\r\nphp artisan shield:install --only\n"})}),"\n",(0,s.jsx)(n.h3,{id:"shieldgenerate",children:(0,s.jsx)(n.code,{children:"shield:generate"})}),"\n",(0,s.jsx)(n.p,{children:"Generate Permission dan/atau Policies untuk entitas Filament. Menerima flag berikut:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"flag"}),(0,s.jsx)(n.th,{children:"keterangan"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--all"})}),(0,s.jsx)(n.td,{children:"Hasilkan permission/policy untuk semua entitas"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--option[=OPTION]"})}),(0,s.jsxs)(n.td,{children:["Overwrite opsi config generator (",(0,s.jsx)(n.code,{children:"policies_and_permissions"}),",",(0,s.jsx)(n.code,{children:"policies"}),",",(0,s.jsx)(n.code,{children:"permissions"}),")"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--resource[=RESOURCE]"})}),(0,s.jsxs)(n.td,{children:["Satu atau beberapa ",(0,s.jsx)(n.code,{children:"Resource"})," dipisahkan dengan koma (,)"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--page[=PAGE]"})}),(0,s.jsx)(n.td,{children:"Satu atau beberapa page dipisahkan dengan koma (,)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--widget[=WIDGET]"})}),(0,s.jsx)(n.td,{children:"Satu atau beberapa widget dipisahkan dengan koma (,)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--exclude"})}),(0,s.jsx)(n.td,{children:"Kecualikan entitas yang diberikan selama generation"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--ignore-config-exclude"})}),(0,s.jsxs)(n.td,{children:["Abaikan opsi ",(0,s.jsx)(n.code,{children:"exclude"})," konfigurasi selama generation"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--ignore-existing-policies"})}),(0,s.jsx)(n.td,{children:"Jangan Overwrite policy yang sudah ada."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"shieldsuper-admin",children:(0,s.jsx)(n.code,{children:"shield:super-admin"})}),"\n",(0,s.jsxs)(n.p,{children:["Buat pengguna dengan role ",(0,s.jsx)(n.code,{children:"super_admin"}),"."]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"flag"}),(0,s.jsx)(n.th,{children:"keterangan"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--user="})}),(0,s.jsx)(n.td,{children:"Mmenggunakan ID yang diberikan untuk menemukan pengguna yang akan dijadikan super admin."})]})})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"php artisan shield:super-admin\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"php artisan shield:super-admin --user=1\n"})}),"\n",(0,s.jsx)(n.h3,{id:"shieldpublish",children:(0,s.jsx)(n.code,{children:"shield:publish"})}),"\n",(0,s.jsxs)(n.p,{children:["Publish ",(0,s.jsx)(n.code,{children:"RoleResource"})," Shield dan sesuaikan sesuai keinginan Anda."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"php artisan shield:publish\n"})}),"\n",(0,s.jsx)(n.h3,{id:"shieldseeder",children:(0,s.jsx)(n.code,{children:"shield:seeder"})}),"\n",(0,s.jsx)(n.p,{children:"Menerapkan dengan mudah dengan menyiapkan role dan permission Anda atau tambahkan custom seed Anda sendiri."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"php artisan shield:seeder\n"})})]})}function o(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},50065:function(e,n,a){a.d(n,{Z:function(){return d},a:function(){return l}});var i=a(67294);let s={},r=i.createContext(s);function l(e){let n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);